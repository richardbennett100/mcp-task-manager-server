
> mcp-task-manager-server@0.1.0 ci:test
> npm run lint:fix && npm run build && npm run test:bail


> mcp-task-manager-server@0.1.0 lint:fix
> eslint "src/**/*.ts" --fix


> mcp-task-manager-server@0.1.0 build
> npm run lint:fix && npm run format && tsc && copyfiles -f src/db/*.sql dist/db


> mcp-task-manager-server@0.1.0 lint:fix
> eslint "src/**/*.ts" --fix


> mcp-task-manager-server@0.1.0 format
> prettier --write "src/**/*.ts"

src/config/ConfigurationManager.ts 84ms (unchanged)
src/createServer.ts 6ms (unchanged)
src/db/DatabaseManager.ts 27ms (unchanged)
src/repositories/ActionHistoryRepository.ts 12ms (unchanged)
src/repositories/ActionHistoryRepositoryActions.ts 30ms (unchanged)
src/repositories/ActionHistoryRepositoryBase.ts 11ms (unchanged)
src/repositories/ActionHistoryRepositorySteps.ts 4ms (unchanged)
src/repositories/index.ts 1ms (unchanged)
src/repositories/WorkItemRepository.ts 15ms (unchanged)
src/repositories/WorkItemRepositoryBase.ts 6ms (unchanged)
src/repositories/WorkItemRepositoryCRUD.ts 31ms (unchanged)
src/repositories/WorkItemRepositoryDependencies.ts 20ms (unchanged)
src/repositories/WorkItemRepositoryHierarchy.ts 9ms (unchanged)
src/repositories/WorkItemRepositorySearchOrder.ts 21ms (unchanged)
src/repositories/WorkItemRepositoryUndoRedo.ts 9ms (unchanged)
src/server.ts 2ms (unchanged)
src/services/__tests__/integrationSetup.ts 7ms (unchanged)
src/services/__tests__/unit/WorkItemUtilsService.spec.ts 5ms (unchanged)
src/services/__tests__/workItemAddIntegration.test.ts 12ms (unchanged)
src/services/__tests__/workItemDeleteIntegration.test.ts 15ms (unchanged)
src/services/__tests__/workItemGetNextTaskIntegration.test.ts 14ms (unchanged)
src/services/__tests__/workItemHistoryIntegration.test.ts 20ms (unchanged)
src/services/__tests__/workItemPromoteIntegration.test.ts 10ms (unchanged)
src/services/__tests__/workItemReadIntegration.test.ts 6ms (unchanged)
src/services/__tests__/workItemUpdateIntegration.test.ts 16ms (unchanged)
src/services/index.ts 2ms (unchanged)
src/services/WorkItemAddingService.ts 13ms (unchanged)
src/services/WorkItemDeleteService.ts 15ms (unchanged)
src/services/WorkItemDependencyUpdateService.ts 16ms (unchanged)
src/services/WorkItemFieldUpdateService.ts 21ms (unchanged)
src/services/WorkItemHistoryService.ts 22ms (unchanged)
src/services/WorkItemPositionUpdateService.ts 22ms (unchanged)
src/services/WorkItemPromoteService.ts 10ms (unchanged)
src/services/WorkItemReadingService.ts 9ms (unchanged)
src/services/WorkItemService.ts 8ms (unchanged)
src/services/WorkItemServiceTypes.ts 3ms (unchanged)
src/services/WorkItemUpdateService.ts 16ms (unchanged)
src/services/WorkItemUtilsService.ts 4ms (unchanged)
src/tools/add_child_tasks_params.ts 0ms (unchanged)
src/tools/add_child_tasks_tool.ts 0ms (unchanged)
src/tools/add_dependencies_params.ts 3ms (unchanged)
src/tools/add_dependencies_tool.ts 3ms (unchanged)
src/tools/add_task_params.ts 5ms (unchanged)
src/tools/add_task_tool.ts 4ms (unchanged)
src/tools/create_project_params.ts 2ms (unchanged)
src/tools/create_project_tool.ts 3ms (unchanged)
src/tools/delete_child_tasks_params.ts 0ms (unchanged)
src/tools/delete_child_tasks_tool.ts 0ms (unchanged)
src/tools/delete_dependencies_params.ts 2ms (unchanged)
src/tools/delete_dependencies_tool.ts 3ms (unchanged)
src/tools/delete_project_params.ts 1ms (unchanged)
src/tools/delete_project_tool.ts 6ms (unchanged)
src/tools/delete_task_params.ts 2ms (unchanged)
src/tools/delete_task_tool.ts 3ms (unchanged)
src/tools/export_project_params.ts 1ms (unchanged)
src/tools/export_project_tool.ts 0ms (unchanged)
src/tools/get_full_tree_params.ts 2ms (unchanged)
src/tools/get_full_tree_tool.ts 4ms (unchanged)
src/tools/get_next_task_params.ts 2ms (unchanged)
src/tools/get_next_task_tool.ts 3ms (unchanged)
src/tools/import_project_params.ts 0ms (unchanged)
src/tools/import_project_tool.ts 2ms (unchanged)
src/tools/index.ts 3ms (unchanged)
src/tools/list_history_params.ts 2ms (unchanged)
src/tools/list_history_tool.ts 3ms (unchanged)
src/tools/list_tasks_params.ts 2ms (unchanged)
src/tools/list_tasks_tool.ts 3ms (unchanged)
src/tools/move_item_after_params.ts 2ms (unchanged)
src/tools/move_item_after_tool.ts 2ms (unchanged)
src/tools/move_item_before_params.ts 2ms (unchanged)
src/tools/move_item_before_tool.ts 3ms (unchanged)
src/tools/move_item_to_end_params.ts 1ms (unchanged)
src/tools/move_item_to_end_tool.ts 3ms (unchanged)
src/tools/move_item_to_start_params.ts 2ms (unchanged)
src/tools/move_item_to_start_tool.ts 2ms (unchanged)
src/tools/promote_to_project_params.ts 1ms (unchanged)
src/tools/promote_to_project_tool.ts 3ms (unchanged)
src/tools/redo_last_action_params.ts 0ms (unchanged)
src/tools/redo_last_action_tool.ts 3ms (unchanged)
src/tools/set_description_params.ts 2ms (unchanged)
src/tools/set_description_tool.ts 2ms (unchanged)
src/tools/set_due_date_params.ts 2ms (unchanged)
src/tools/set_due_date_tool.ts 2ms (unchanged)
src/tools/set_name_params.ts 2ms (unchanged)
src/tools/set_name_tool.ts 2ms (unchanged)
src/tools/set_priority_params.ts 2ms (unchanged)
src/tools/set_priority_tool.ts 2ms (unchanged)
src/tools/set_status_params.ts 1ms (unchanged)
src/tools/set_status_tool.ts 3ms (unchanged)
src/tools/undo_last_action_params.ts 1ms (unchanged)
src/tools/undo_last_action_tool.ts 3ms (unchanged)
src/tools/update_task_params.ts 5ms (unchanged)
src/tools/update_task_tool.ts 5ms (unchanged)
src/utils/errors.ts 2ms (unchanged)
src/utils/index.ts 1ms (unchanged)
src/utils/logger.ts 1ms (unchanged)

> mcp-task-manager-server@0.1.0 test:bail
> npm test -- --bail


> mcp-task-manager-server@0.1.0 test
> dotenv -e .env.test -- cross-env NODE_OPTIONS=--experimental-vm-modules jest --runInBand --bail

{"level":"INFO","time":"2025-05-07T21:36:26.333Z","pid":255826,"hostname":"richard","msg":"Loading environment variable overrides for configuration..."}
(node:255826) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
{"level":"INFO","time":"2025-05-07T21:36:26.334Z","pid":255826,"hostname":"richard","msg":"Overriding pgHost from env: localhost"}
{"level":"INFO","time":"2025-05-07T21:36:26.334Z","pid":255826,"hostname":"richard","msg":"Overriding pgPort from env: 5432"}
{"level":"INFO","time":"2025-05-07T21:36:26.334Z","pid":255826,"hostname":"richard","msg":"Overriding pgUser from env: taskmanager_user"}
{"level":"INFO","time":"2025-05-07T21:36:26.334Z","pid":255826,"hostname":"richard","msg":"Overriding pgPassword from env."}
{"level":"INFO","time":"2025-05-07T21:36:26.334Z","pid":255826,"hostname":"richard","msg":"Overriding pgDatabase from env: taskmanager_db"}
{"level":"INFO","time":"2025-05-07T21:36:26.334Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Checking database availability at localhost:5432..."}
{"level":"INFO","time":"2025-05-07T21:36:26.341Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Database port 5432 is open on attempt 1. Proceeding..."}
{"level":"INFO","time":"2025-05-07T21:36:26.341Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: Setting up PostgreSQL connection pool..."}
{"level":"INFO","time":"2025-05-07T21:36:26.341Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: PostgreSQL connection pool configured."}
{"level":"INFO","time":"2025-05-07T21:36:26.341Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Starting schema initialization..."}
{"level":"INFO","time":"2025-05-07T21:36:26.354Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Connected to PostgreSQL."}
{"level":"INFO","time":"2025-05-07T21:36:26.354Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Force schema run enabled."}
{"level":"INFO","time":"2025-05-07T21:36:26.354Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Schema path: /home/richard/repos/mcp-task-manager-server/dist/db/schema.sql"}
{"level":"INFO","time":"2025-05-07T21:36:26.371Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Full schema script executed."}
{"level":"INFO","time":"2025-05-07T21:36:26.373Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Confirmed work_items table exists."}
{"level":"INFO","time":"2025-05-07T21:36:26.373Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Initialization marked as complete."}
{"level":"INFO","time":"2025-05-07T21:36:26.373Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Released client."}
{"level":"INFO","time":"2025-05-07T21:36:26.373Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] getInstance: Initialization successful."}
{"level":"INFO","time":"2025-05-07T21:36:26.394Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.397Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 79769bca-5acd-4000-b0a6-012a374b6984 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.399Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 79769bca-5acd-4000-b0a6-012a374b6984 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.409Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.409Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 94e35218-4bf9-4f84-a56c-3ea0dbb9c52f with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.410Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 94e35218-4bf9-4f84-a56c-3ea0dbb9c52f with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.412Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.413Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 207c7022-009f-4dc8-b0c9-4aa374758865 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.414Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 207c7022-009f-4dc8-b0c9-4aa374758865 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.417Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.417Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c22813f4-f321-4fd5-9808-83a43ca21fa6 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.418Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c22813f4-f321-4fd5-9808-83a43ca21fa6 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.420Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:26.420Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 605c223a-1af5-445b-8111-08379b881c3c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.421Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 605c223a-1af5-445b-8111-08379b881c3c with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.423Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1004"}
{"level":"INFO","time":"2025-05-07T21:36:26.423Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 708674d0-bc38-44a3-9033-c77f6e99596d with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.424Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 708674d0-bc38-44a3-9033-c77f6e99596d with order_key 1004 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.426Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1005"}
{"level":"INFO","time":"2025-05-07T21:36:26.427Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c0611839-43c9-4e92-994d-0ea06a988739 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.428Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c0611839-43c9-4e92-994d-0ea06a988739 with order_key 1005 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.430Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1006"}
{"level":"INFO","time":"2025-05-07T21:36:26.430Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c7323ba4-6805-4c5e-893e-267403900c36 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.431Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c7323ba4-6805-4c5e-893e-267403900c36 with order_key 1006 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.432Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.433Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item ba0ce3b6-3251-46d6-8204-4c6a9de0524e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.433Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item ba0ce3b6-3251-46d6-8204-4c6a9de0524e with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.435Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.435Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 1f1a3611-56a0-494b-8808-b131b0a4a1ec with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.436Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 1f1a3611-56a0-494b-8808-b131b0a4a1ec with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.440Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.442Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 887bcb5d-6ebd-471b-b127-6126ac9cb599 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.443Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 887bcb5d-6ebd-471b-b127-6126ac9cb599 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.445Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.445Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c54dcc51-76f5-408c-868b-68992da97481 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.446Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c54dcc51-76f5-408c-868b-68992da97481 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.448Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item 94e35218-4bf9-4f84-a56c-3ea0dbb9c52f"}
{"level":"INFO","time":"2025-05-07T21:36:26.450Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item 94e35218-4bf9-4f84-a56c-3ea0dbb9c52f."}
{"level":"INFO","time":"2025-05-07T21:36:26.462Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item 207c7022-009f-4dc8-b0c9-4aa374758865"}
{"level":"INFO","time":"2025-05-07T21:36:26.466Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item 207c7022-009f-4dc8-b0c9-4aa374758865."}
{"level":"INFO","time":"2025-05-07T21:36:26.468Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item c22813f4-f321-4fd5-9808-83a43ca21fa6"}
{"level":"INFO","time":"2025-05-07T21:36:26.472Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item c22813f4-f321-4fd5-9808-83a43ca21fa6."}
{"level":"INFO","time":"2025-05-07T21:36:26.473Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item 605c223a-1af5-445b-8111-08379b881c3c"}
{"level":"INFO","time":"2025-05-07T21:36:26.475Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item 605c223a-1af5-445b-8111-08379b881c3c."}
{"level":"INFO","time":"2025-05-07T21:36:26.477Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item c0611839-43c9-4e92-994d-0ea06a988739"}
{"level":"INFO","time":"2025-05-07T21:36:26.478Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item c0611839-43c9-4e92-994d-0ea06a988739."}
{"level":"INFO","time":"2025-05-07T21:36:26.481Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item c7323ba4-6805-4c5e-893e-267403900c36"}
{"level":"INFO","time":"2025-05-07T21:36:26.482Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item c7323ba4-6805-4c5e-893e-267403900c36."}
{"level":"INFO","time":"2025-05-07T21:36:26.484Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item 1f1a3611-56a0-494b-8808-b131b0a4a1ec"}
{"level":"INFO","time":"2025-05-07T21:36:26.486Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item 1f1a3611-56a0-494b-8808-b131b0a4a1ec."}
{"level":"INFO","time":"2025-05-07T21:36:26.487Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item 887bcb5d-6ebd-471b-b127-6126ac9cb599"}
{"level":"INFO","time":"2025-05-07T21:36:26.489Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item 887bcb5d-6ebd-471b-b127-6126ac9cb599."}
{"level":"INFO","time":"2025-05-07T21:36:26.490Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item c54dcc51-76f5-408c-868b-68992da97481"}
{"level":"INFO","time":"2025-05-07T21:36:26.492Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item c54dcc51-76f5-408c-868b-68992da97481."}
{"level":"INFO","time":"2025-05-07T21:36:26.494Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] getNextTask called with params:"}
{"level":"INFO","time":"2025-05-07T21:36:26.495Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] No candidate tasks found matching filters."}
{"level":"INFO","time":"2025-05-07T21:36:26.515Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.516Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 2a5c9f22-9eea-4c54-935e-346f8a91a36f with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.518Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 2a5c9f22-9eea-4c54-935e-346f8a91a36f with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.519Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.520Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item f0983ccf-0979-4be2-8732-c3e840e38d70 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.521Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item f0983ccf-0979-4be2-8732-c3e840e38d70 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.523Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.523Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 5e580e47-a8e9-4462-bf4f-e467e627d2bb with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.524Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 5e580e47-a8e9-4462-bf4f-e467e627d2bb with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.526Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.526Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 6282f7a4-1230-4840-9fec-22226d39ffcd with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.528Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 6282f7a4-1230-4840-9fec-22226d39ffcd with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.530Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:26.530Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 7075b050-8872-4b7a-a3c4-d814e1755eec with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.531Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 7075b050-8872-4b7a-a3c4-d814e1755eec with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.533Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1004"}
{"level":"INFO","time":"2025-05-07T21:36:26.534Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 1ca93660-fdeb-46d8-8565-d2941bf097a8 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.535Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 1ca93660-fdeb-46d8-8565-d2941bf097a8 with order_key 1004 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.537Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1005"}
{"level":"INFO","time":"2025-05-07T21:36:26.538Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 5946679a-1147-458d-81b5-24990aecf855 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.539Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 5946679a-1147-458d-81b5-24990aecf855 with order_key 1005 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.541Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1006"}
{"level":"INFO","time":"2025-05-07T21:36:26.541Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 4d2a1f6a-6fda-4b44-8540-f51f36ee6ac5 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.543Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 4d2a1f6a-6fda-4b44-8540-f51f36ee6ac5 with order_key 1006 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.544Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.544Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 9509e297-6638-4bfd-b599-6fef079f332c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.545Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 9509e297-6638-4bfd-b599-6fef079f332c with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.546Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.547Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item ac669bf7-4d1c-4d37-a2a8-9eb39f35c9e7 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.547Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item ac669bf7-4d1c-4d37-a2a8-9eb39f35c9e7 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.549Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.549Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item db8b9cee-3fc3-4997-8064-d348898aebbe with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.550Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item db8b9cee-3fc3-4997-8064-d348898aebbe with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.553Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.555Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e23827b1-d452-4b77-9cfc-c227421fbd2b with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.556Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e23827b1-d452-4b77-9cfc-c227421fbd2b with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.558Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] getNextTask called with params:"}
{"level":"INFO","time":"2025-05-07T21:36:26.562Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] Found next task (no active dependencies): 6282f7a4-1230-4840-9fec-22226d39ffcd"}
{"level":"INFO","time":"2025-05-07T21:36:26.584Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.585Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item de728c79-10cb-441a-b559-f42a5a9c7021 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.586Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item de728c79-10cb-441a-b559-f42a5a9c7021 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.588Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.589Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 3cf9d466-0064-41fb-925f-27c1d40c13bb with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.590Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 3cf9d466-0064-41fb-925f-27c1d40c13bb with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.591Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.592Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 677658d5-a856-4c81-84f2-c9fdcf15145c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.593Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 677658d5-a856-4c81-84f2-c9fdcf15145c with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.595Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.595Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 0753b1e3-2c0d-4fae-8fbe-de9fe69fdeb7 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.596Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 0753b1e3-2c0d-4fae-8fbe-de9fe69fdeb7 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.597Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:26.598Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 715cfeee-613c-42b5-a53b-e9810678b33e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.598Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 715cfeee-613c-42b5-a53b-e9810678b33e with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.600Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1004"}
{"level":"INFO","time":"2025-05-07T21:36:26.600Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e86d5633-a8a4-4a09-812b-917d63de0b58 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.601Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e86d5633-a8a4-4a09-812b-917d63de0b58 with order_key 1004 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.604Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1005"}
{"level":"INFO","time":"2025-05-07T21:36:26.605Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 270a97a0-03b4-4e23-9806-68770d6dab90 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.606Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 270a97a0-03b4-4e23-9806-68770d6dab90 with order_key 1005 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.608Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1006"}
{"level":"INFO","time":"2025-05-07T21:36:26.609Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e8472cb8-0c65-4123-857e-f15b1219bb94 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.610Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e8472cb8-0c65-4123-857e-f15b1219bb94 with order_key 1006 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.612Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.612Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 11356506-ea83-4d7a-aa9b-f278042fad8e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.613Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 11356506-ea83-4d7a-aa9b-f278042fad8e with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.618Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.619Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 8fb59960-641d-45b7-a01e-217cc9ead446 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.622Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 8fb59960-641d-45b7-a01e-217cc9ead446 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.625Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.625Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 4e3ec42b-a991-4c43-abb5-12b4b8e45e6d with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.627Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 4e3ec42b-a991-4c43-abb5-12b4b8e45e6d with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.629Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.630Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e66f3cc4-6460-4add-8f04-f4a3cb275332 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.630Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e66f3cc4-6460-4add-8f04-f4a3cb275332 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.632Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item 0753b1e3-2c0d-4fae-8fbe-de9fe69fdeb7"}
{"level":"INFO","time":"2025-05-07T21:36:26.634Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item 0753b1e3-2c0d-4fae-8fbe-de9fe69fdeb7."}
{"level":"INFO","time":"2025-05-07T21:36:26.637Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item e8472cb8-0c65-4123-857e-f15b1219bb94"}
{"level":"INFO","time":"2025-05-07T21:36:26.641Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item e8472cb8-0c65-4123-857e-f15b1219bb94."}
{"level":"INFO","time":"2025-05-07T21:36:26.644Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item 715cfeee-613c-42b5-a53b-e9810678b33e"}
{"level":"INFO","time":"2025-05-07T21:36:26.646Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item 715cfeee-613c-42b5-a53b-e9810678b33e."}
{"level":"INFO","time":"2025-05-07T21:36:26.648Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] getNextTask called with params:"}
{"level":"INFO","time":"2025-05-07T21:36:26.650Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] Found next task (no active dependencies): 677658d5-a856-4c81-84f2-c9fdcf15145c"}
{"level":"INFO","time":"2025-05-07T21:36:26.651Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting priority to 'medium' for work item 4e3ec42b-a991-4c43-abb5-12b4b8e45e6d"}
{"level":"INFO","time":"2025-05-07T21:36:26.655Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting priority on work item 4e3ec42b-a991-4c43-abb5-12b4b8e45e6d."}
{"level":"INFO","time":"2025-05-07T21:36:26.657Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] getNextTask called with params:"}
{"level":"INFO","time":"2025-05-07T21:36:26.659Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] Found next task (no active dependencies): 677658d5-a856-4c81-84f2-c9fdcf15145c"}
{"level":"INFO","time":"2025-05-07T21:36:26.682Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.684Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 19672fa5-29c7-491b-890f-6ed57deeea9e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.687Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 19672fa5-29c7-491b-890f-6ed57deeea9e with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.691Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.692Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item da20fa90-544f-4fee-83dd-79121c455e17 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.694Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item da20fa90-544f-4fee-83dd-79121c455e17 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.696Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.698Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item f5ed664a-2342-4f32-a1cb-883d34606f73 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.700Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item f5ed664a-2342-4f32-a1cb-883d34606f73 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.703Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.704Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 9e941f09-bfc3-4722-8152-cd43a601bff4 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.705Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 9e941f09-bfc3-4722-8152-cd43a601bff4 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.708Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:26.708Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 07c4fc50-925c-4c11-bc9f-97029bc9dbb5 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.709Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 07c4fc50-925c-4c11-bc9f-97029bc9dbb5 with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.712Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1004"}
{"level":"INFO","time":"2025-05-07T21:36:26.712Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 842ad313-4943-4612-9897-76583345c3c6 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.713Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 842ad313-4943-4612-9897-76583345c3c6 with order_key 1004 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.715Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1005"}
{"level":"INFO","time":"2025-05-07T21:36:26.717Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c07228e1-29c6-4e00-95d9-2d798e0bf063 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.718Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c07228e1-29c6-4e00-95d9-2d798e0bf063 with order_key 1005 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.720Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1006"}
{"level":"INFO","time":"2025-05-07T21:36:26.721Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item eae17ab7-ceb1-414b-a862-9811d4282759 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.723Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item eae17ab7-ceb1-414b-a862-9811d4282759 with order_key 1006 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.725Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.726Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 14be0a2b-09b4-4669-a0f0-09ac030efbdd with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.728Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 14be0a2b-09b4-4669-a0f0-09ac030efbdd with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.730Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.731Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item fad003de-21dd-4669-8a92-1c03410628c8 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.732Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item fad003de-21dd-4669-8a92-1c03410628c8 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.734Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.735Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 39c78161-705e-4d6e-974b-be29b9a38add with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.735Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 39c78161-705e-4d6e-974b-be29b9a38add with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.737Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.738Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 846dfa16-8dac-4e2f-b0e4-420397465f83 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.739Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 846dfa16-8dac-4e2f-b0e4-420397465f83 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.740Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] getNextTask called with params:"}
{"level":"INFO","time":"2025-05-07T21:36:26.742Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] Found next task (no active dependencies): 9e941f09-bfc3-4722-8152-cd43a601bff4"}
{"level":"INFO","time":"2025-05-07T21:36:26.764Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.765Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e6596153-879b-43d7-b487-da8e95f49202 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.767Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e6596153-879b-43d7-b487-da8e95f49202 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.769Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.769Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 214b86c0-601f-4a66-8b14-ac283cedb170 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.771Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 214b86c0-601f-4a66-8b14-ac283cedb170 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.773Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.774Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 6ae89d5f-9f5b-462f-af8f-8bef7fca3f35 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.775Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 6ae89d5f-9f5b-462f-af8f-8bef7fca3f35 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.777Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.778Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e361c9ac-2458-409b-8a9d-7f132f20cb23 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.779Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e361c9ac-2458-409b-8a9d-7f132f20cb23 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.780Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:26.781Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 3ad3010d-d4d0-4116-a9a4-f955c0ca0961 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.781Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 3ad3010d-d4d0-4116-a9a4-f955c0ca0961 with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.783Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1004"}
{"level":"INFO","time":"2025-05-07T21:36:26.783Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 5dba879d-be67-474b-92cd-02bfcbda4186 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.784Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 5dba879d-be67-474b-92cd-02bfcbda4186 with order_key 1004 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.786Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1005"}
{"level":"INFO","time":"2025-05-07T21:36:26.787Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 8e6e9e0d-0812-4aa7-b260-a0def45237f8 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.788Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 8e6e9e0d-0812-4aa7-b260-a0def45237f8 with order_key 1005 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.790Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1006"}
{"level":"INFO","time":"2025-05-07T21:36:26.790Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c2942257-00c8-49a5-93d9-d8933cfbec46 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.791Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c2942257-00c8-49a5-93d9-d8933cfbec46 with order_key 1006 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.792Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.793Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 813e36d0-4bc8-4f36-9832-bc2e5f6d7371 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.793Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 813e36d0-4bc8-4f36-9832-bc2e5f6d7371 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.795Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.795Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 85daac0e-e537-407b-ba8f-f89c07eeddeb with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.796Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 85daac0e-e537-407b-ba8f-f89c07eeddeb with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.798Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.798Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 58b41f2b-24e7-48a7-933b-2d9daf7fa840 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.799Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 58b41f2b-24e7-48a7-933b-2d9daf7fa840 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.800Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.800Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 94f96e62-a67f-4962-8929-9544d4dfa84b with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.801Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 94f96e62-a67f-4962-8929-9544d4dfa84b with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.802Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'done' for work item e361c9ac-2458-409b-8a9d-7f132f20cb23"}
{"level":"INFO","time":"2025-05-07T21:36:26.804Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Recorded history for setting status on work item e361c9ac-2458-409b-8a9d-7f132f20cb23."}
{"level":"INFO","time":"2025-05-07T21:36:26.806Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] getNextTask called with params:"}
{"level":"INFO","time":"2025-05-07T21:36:26.808Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] Found next task (all active dependencies met): c2942257-00c8-49a5-93d9-d8933cfbec46"}
{"level":"INFO","time":"2025-05-07T21:36:26.828Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.828Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 515da109-a16f-4561-8047-a03eecda4fa6 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.832Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 515da109-a16f-4561-8047-a03eecda4fa6 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.834Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.835Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item f0b3f9fa-64c6-450b-b65f-649065e4a8f5 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.835Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item f0b3f9fa-64c6-450b-b65f-649065e4a8f5 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.839Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.840Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 56acffcb-34ff-4def-b8f7-132ae587237b with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.842Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 56acffcb-34ff-4def-b8f7-132ae587237b with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.844Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.845Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 7860cc9e-5e7b-41c2-bbbb-624afe66ceb4 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.846Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 7860cc9e-5e7b-41c2-bbbb-624afe66ceb4 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.852Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:26.853Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 28d3cb53-f523-4513-9aff-7d4fa23606ea with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.855Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 28d3cb53-f523-4513-9aff-7d4fa23606ea with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.858Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1004"}
{"level":"INFO","time":"2025-05-07T21:36:26.859Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item ba452e53-dcdc-45d3-a2b6-38a5edd4f9dd with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.864Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item ba452e53-dcdc-45d3-a2b6-38a5edd4f9dd with order_key 1004 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.866Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1005"}
{"level":"INFO","time":"2025-05-07T21:36:26.870Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 67cf2d42-4f6a-4984-8388-487a6e809070 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.872Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 67cf2d42-4f6a-4984-8388-487a6e809070 with order_key 1005 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.875Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1006"}
{"level":"INFO","time":"2025-05-07T21:36:26.877Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 3814e75b-48d3-4c4e-818d-3ad17ef553dc with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.878Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 3814e75b-48d3-4c4e-818d-3ad17ef553dc with order_key 1006 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.880Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.880Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item a5e52530-7522-4940-940b-84f0ea373254 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.882Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item a5e52530-7522-4940-940b-84f0ea373254 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.884Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:26.884Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 54561fd6-ccec-481a-89c8-d5fbfe81312e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.885Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 54561fd6-ccec-481a-89c8-d5fbfe81312e with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.887Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:26.887Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 1838cab9-5e3d-41b1-b6f5-b5b2c36560c1 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.888Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 1838cab9-5e3d-41b1-b6f5-b5b2c36560c1 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.890Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:26.891Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c4784e25-2dac-4ae7-b087-9b3dfbaa51aa with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:26.892Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c4784e25-2dac-4ae7-b087-9b3dfbaa51aa with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:26.893Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] getNextTask called with params:"}
{"level":"INFO","time":"2025-05-07T21:36:26.896Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] Found next task (no active dependencies): 1838cab9-5e3d-41b1-b6f5-b5b2c36560c1"}
{"level":"INFO","time":"2025-05-07T21:36:26.897Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Setting status to 'todo' for work item f0b3f9fa-64c6-450b-b65f-649065e4a8f5"}
{"level":"INFO","time":"2025-05-07T21:36:26.897Z","pid":255826,"hostname":"richard","msg":"[WorkItemFieldUpdateService] Status for f0b3f9fa-64c6-450b-b65f-649065e4a8f5 is already 'todo'. No update needed."}
{"level":"INFO","time":"2025-05-07T21:36:26.900Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] getNextTask called with params:"}
{"level":"INFO","time":"2025-05-07T21:36:26.901Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] Found next task (no active dependencies): f0b3f9fa-64c6-450b-b65f-649065e4a8f5"}
{"level":"INFO","time":"2025-05-07T21:36:26.902Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] getNextTask called with params:"}
{"level":"INFO","time":"2025-05-07T21:36:26.903Z","pid":255826,"hostname":"richard","msg":"[WorkItemService] No candidate tasks found matching filters."}
PASS dist/services/__tests__/workItemGetNextTaskIntegration.test.js
{"level":"INFO","time":"2025-05-07T21:36:27.002Z","pid":255826,"hostname":"richard","msg":"Loading environment variable overrides for configuration..."}
{"level":"INFO","time":"2025-05-07T21:36:27.002Z","pid":255826,"hostname":"richard","msg":"Overriding pgHost from env: localhost"}
{"level":"INFO","time":"2025-05-07T21:36:27.002Z","pid":255826,"hostname":"richard","msg":"Overriding pgPort from env: 5432"}
{"level":"INFO","time":"2025-05-07T21:36:27.002Z","pid":255826,"hostname":"richard","msg":"Overriding pgUser from env: taskmanager_user"}
{"level":"INFO","time":"2025-05-07T21:36:27.002Z","pid":255826,"hostname":"richard","msg":"Overriding pgPassword from env."}
{"level":"INFO","time":"2025-05-07T21:36:27.002Z","pid":255826,"hostname":"richard","msg":"Overriding pgDatabase from env: taskmanager_db"}
{"level":"INFO","time":"2025-05-07T21:36:27.002Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Checking database availability at localhost:5432..."}
{"level":"INFO","time":"2025-05-07T21:36:27.006Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Database port 5432 is open on attempt 1. Proceeding..."}
{"level":"INFO","time":"2025-05-07T21:36:27.007Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: Setting up PostgreSQL connection pool..."}
{"level":"INFO","time":"2025-05-07T21:36:27.007Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: PostgreSQL connection pool configured."}
{"level":"INFO","time":"2025-05-07T21:36:27.007Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Starting schema initialization..."}
{"level":"INFO","time":"2025-05-07T21:36:27.023Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Connected to PostgreSQL."}
{"level":"INFO","time":"2025-05-07T21:36:27.023Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Force schema run enabled."}
{"level":"INFO","time":"2025-05-07T21:36:27.023Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Schema path: /home/richard/repos/mcp-task-manager-server/dist/db/schema.sql"}
{"level":"INFO","time":"2025-05-07T21:36:27.044Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Full schema script executed."}
{"level":"INFO","time":"2025-05-07T21:36:27.046Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Confirmed work_items table exists."}
{"level":"INFO","time":"2025-05-07T21:36:27.046Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Initialization marked as complete."}
{"level":"INFO","time":"2025-05-07T21:36:27.047Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Released client."}
{"level":"INFO","time":"2025-05-07T21:36:27.047Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] getInstance: Initialization successful."}
{"level":"INFO","time":"2025-05-07T21:36:27.071Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:27.075Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item bbab7d1b-090b-4a55-8d31-fcf814c2f320 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.079Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item bbab7d1b-090b-4a55-8d31-fcf814c2f320 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:27.081Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:27.082Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 759e22e4-a4ea-4bfc-a321-44fc4ad754aa with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.083Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 759e22e4-a4ea-4bfc-a321-44fc4ad754aa with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:27.087Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID bbab7d1b-090b-4a55-8d31-fcf814c2f320."}
{"level":"INFO","time":"2025-05-07T21:36:27.111Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item bbab7d1b-090b-4a55-8d31-fcf814c2f320."}
{"level":"WARN","time":"2025-05-07T21:36:27.132Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: 759e22e4-a4ea-4bfc-a321-44fc4ad754aa"}
{"level":"INFO","time":"2025-05-07T21:36:27.138Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:27.138Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:27.141Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action a43617bc-bf3d-433a-951a-a41e270b7e87."}
{"level":"INFO","time":"2025-05-07T21:36:27.146Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.150Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action a43617bc-bf3d-433a-951a-a41e270b7e87"}
{"level":"INFO","time":"2025-05-07T21:36:27.172Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:27.173Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item cc2fcf7b-45a1-4dd0-b474-ab2148194213 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.174Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item cc2fcf7b-45a1-4dd0-b474-ab2148194213 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:27.176Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:27.178Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 92064a87-8363-42c0-a119-67845dde30ab with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.181Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 92064a87-8363-42c0-a119-67845dde30ab with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:27.183Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID cc2fcf7b-45a1-4dd0-b474-ab2148194213."}
{"level":"INFO","time":"2025-05-07T21:36:27.188Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item cc2fcf7b-45a1-4dd0-b474-ab2148194213."}
{"level":"WARN","time":"2025-05-07T21:36:27.196Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: 92064a87-8363-42c0-a119-67845dde30ab"}
{"level":"INFO","time":"2025-05-07T21:36:27.201Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:27.201Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:27.205Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action 472da4d2-c14c-4c1a-996d-a32ecc6dd278."}
{"level":"INFO","time":"2025-05-07T21:36:27.207Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.211Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 472da4d2-c14c-4c1a-996d-a32ecc6dd278"}
{"level":"INFO","time":"2025-05-07T21:36:27.262Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.270Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action dfc4c0e5-d838-47f0-af82-01a21d75d112"}
{"level":"INFO","time":"2025-05-07T21:36:27.414Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:27.415Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 81e55cd3-1afa-4bcc-a592-c874a0cc63b3 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.417Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 81e55cd3-1afa-4bcc-a592-c874a0cc63b3 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:27.420Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:27.422Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 9c59f407-c27c-4680-b770-135751999137 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.426Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 9c59f407-c27c-4680-b770-135751999137 with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:27.429Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 81e55cd3-1afa-4bcc-a592-c874a0cc63b3."}
{"level":"INFO","time":"2025-05-07T21:36:27.440Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 81e55cd3-1afa-4bcc-a592-c874a0cc63b3."}
{"level":"WARN","time":"2025-05-07T21:36:27.444Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: 9c59f407-c27c-4680-b770-135751999137"}
{"level":"INFO","time":"2025-05-07T21:36:27.450Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:27.450Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:27.452Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action 5b2d86f6-de50-4dd9-b125-e2ab22090a13."}
{"level":"INFO","time":"2025-05-07T21:36:27.454Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.458Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 5b2d86f6-de50-4dd9-b125-e2ab22090a13"}
{"level":"INFO","time":"2025-05-07T21:36:27.459Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.461Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 6b1686f0-b797-4820-8674-34e442e93d74"}
{"level":"INFO","time":"2025-05-07T21:36:27.463Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.466Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action de7ee09c-f880-4fe4-a6b6-99b8c98ad4fb"}
{"level":"INFO","time":"2025-05-07T21:36:27.467Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.469Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action d31977f4-8521-4608-8ea1-b0cd33acc73e"}
{"level":"INFO","time":"2025-05-07T21:36:27.471Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.472Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] No original action found to undo."}
{"level":"INFO","time":"2025-05-07T21:36:27.608Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:27.609Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 65cad8b7-d689-4c99-b881-d14982c36ca1 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.611Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 65cad8b7-d689-4c99-b881-d14982c36ca1 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:27.613Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:27.613Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 4f9fb116-5b30-42c0-be5e-83667df3c92e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.614Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 4f9fb116-5b30-42c0-be5e-83667df3c92e with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:27.616Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 65cad8b7-d689-4c99-b881-d14982c36ca1."}
{"level":"INFO","time":"2025-05-07T21:36:27.623Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 65cad8b7-d689-4c99-b881-d14982c36ca1."}
{"level":"WARN","time":"2025-05-07T21:36:27.628Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: 4f9fb116-5b30-42c0-be5e-83667df3c92e"}
{"level":"INFO","time":"2025-05-07T21:36:27.631Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:27.631Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:27.633Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action cab8993d-86bc-451b-a2fd-cbc1e81ce13b."}
{"level":"INFO","time":"2025-05-07T21:36:27.635Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.638Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action cab8993d-86bc-451b-a2fd-cbc1e81ce13b"}
{"level":"INFO","time":"2025-05-07T21:36:27.743Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:27.753Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully redid action cab8993d-86bc-451b-a2fd-cbc1e81ce13b"}
{"level":"INFO","time":"2025-05-07T21:36:27.903Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:27.904Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item f83fa2e3-30fc-4f86-b7d2-6d915d49bdc9 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.906Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item f83fa2e3-30fc-4f86-b7d2-6d915d49bdc9 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:27.908Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:27.909Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 44e35875-f977-4d46-9160-9fe20029b669 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:27.909Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 44e35875-f977-4d46-9160-9fe20029b669 with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:27.911Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID f83fa2e3-30fc-4f86-b7d2-6d915d49bdc9."}
{"level":"INFO","time":"2025-05-07T21:36:27.914Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item f83fa2e3-30fc-4f86-b7d2-6d915d49bdc9."}
{"level":"WARN","time":"2025-05-07T21:36:27.916Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: 44e35875-f977-4d46-9160-9fe20029b669"}
{"level":"INFO","time":"2025-05-07T21:36:27.920Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:27.920Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:27.921Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action 7eb9ef9b-483d-455e-9b2e-3cae514b818d."}
{"level":"INFO","time":"2025-05-07T21:36:27.923Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.933Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 7eb9ef9b-483d-455e-9b2e-3cae514b818d"}
{"level":"INFO","time":"2025-05-07T21:36:27.986Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:27.991Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 17d1aad5-85c4-451a-ae40-0187bea7ee43"}
{"level":"INFO","time":"2025-05-07T21:36:28.102Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:28.112Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully redid action 17d1aad5-85c4-451a-ae40-0187bea7ee43"}
{"level":"INFO","time":"2025-05-07T21:36:28.223Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:28.232Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully redid action 7eb9ef9b-483d-455e-9b2e-3cae514b818d"}
{"level":"INFO","time":"2025-05-07T21:36:28.409Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:28.410Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 68f45b8a-5cbf-42a3-8d2c-5f263a4a9c5f with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:28.412Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 68f45b8a-5cbf-42a3-8d2c-5f263a4a9c5f with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:28.414Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:28.415Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 09e00d54-381f-42bb-a416-0e20ab12fe3e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:28.415Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 09e00d54-381f-42bb-a416-0e20ab12fe3e with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:28.416Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 68f45b8a-5cbf-42a3-8d2c-5f263a4a9c5f."}
{"level":"INFO","time":"2025-05-07T21:36:28.420Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 68f45b8a-5cbf-42a3-8d2c-5f263a4a9c5f."}
{"level":"WARN","time":"2025-05-07T21:36:28.424Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: 09e00d54-381f-42bb-a416-0e20ab12fe3e"}
{"level":"INFO","time":"2025-05-07T21:36:28.429Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:28.429Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:28.432Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action e816af6d-8806-46ed-9fe9-64b516e86c34."}
{"level":"INFO","time":"2025-05-07T21:36:28.435Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:28.439Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action e816af6d-8806-46ed-9fe9-64b516e86c34"}
{"level":"INFO","time":"2025-05-07T21:36:28.441Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:28.444Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action b7299c06-79ec-4eda-8893-3b23dbbcd029"}
{"level":"INFO","time":"2025-05-07T21:36:28.445Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:28.447Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action ec702e47-5081-4ed9-8a67-a7e2c39c27f3"}
{"level":"INFO","time":"2025-05-07T21:36:28.448Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:28.450Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action b712bc33-8d68-41b9-9f65-df1743f5add3"}
{"level":"INFO","time":"2025-05-07T21:36:28.451Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:28.451Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] No original action found to undo."}
{"level":"INFO","time":"2025-05-07T21:36:28.623Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:28.624Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item bb0d690c-ca07-427b-93da-a7d396c5cd3a with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:28.625Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item bb0d690c-ca07-427b-93da-a7d396c5cd3a with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:28.628Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:28.629Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 169988f9-22a3-466f-bbdb-f41b05503e28 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:28.630Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 169988f9-22a3-466f-bbdb-f41b05503e28 with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:28.632Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID bb0d690c-ca07-427b-93da-a7d396c5cd3a."}
{"level":"INFO","time":"2025-05-07T21:36:28.636Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item bb0d690c-ca07-427b-93da-a7d396c5cd3a."}
{"level":"WARN","time":"2025-05-07T21:36:28.639Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: 169988f9-22a3-466f-bbdb-f41b05503e28"}
{"level":"INFO","time":"2025-05-07T21:36:28.641Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:28.641Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:28.644Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action 438ba6a7-12f5-4177-8aac-43492d16c64d."}
{"level":"INFO","time":"2025-05-07T21:36:28.649Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:28.649Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] No undo action found to redo."}
{"level":"INFO","time":"2025-05-07T21:36:28.650Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:28.654Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 438ba6a7-12f5-4177-8aac-43492d16c64d"}
{"level":"INFO","time":"2025-05-07T21:36:28.656Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:28.662Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully redid action 438ba6a7-12f5-4177-8aac-43492d16c64d"}
{"level":"INFO","time":"2025-05-07T21:36:28.665Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:28.665Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] No undo action found to redo."}
{"level":"INFO","time":"2025-05-07T21:36:28.798Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:28.800Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 3f06c6f1-e4d5-47ad-b7a0-5da1a8976c92 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:28.804Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 3f06c6f1-e4d5-47ad-b7a0-5da1a8976c92 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:28.808Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:28.809Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item d7124a62-3faa-4373-b62d-3e369e3c013c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:28.810Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item d7124a62-3faa-4373-b62d-3e369e3c013c with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:28.812Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 3f06c6f1-e4d5-47ad-b7a0-5da1a8976c92."}
{"level":"INFO","time":"2025-05-07T21:36:28.817Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 3f06c6f1-e4d5-47ad-b7a0-5da1a8976c92."}
{"level":"WARN","time":"2025-05-07T21:36:28.821Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: d7124a62-3faa-4373-b62d-3e369e3c013c"}
{"level":"INFO","time":"2025-05-07T21:36:28.822Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:28.822Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:28.824Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action 179235ac-144c-414a-a45a-60fc59205af2."}
{"level":"INFO","time":"2025-05-07T21:36:28.828Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:28.832Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 179235ac-144c-414a-a45a-60fc59205af2"}
{"level":"WARN","time":"2025-05-07T21:36:28.934Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 3f06c6f1-e4d5-47ad-b7a0-5da1a8976c92."}
{"level":"INFO","time":"2025-05-07T21:36:28.946Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 3f06c6f1-e4d5-47ad-b7a0-5da1a8976c92."}
{"level":"INFO","time":"2025-05-07T21:36:28.953Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:28.955Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] No undo action found to redo."}
PASS dist/services/__tests__/workItemHistoryIntegration.test.js
{"level":"INFO","time":"2025-05-07T21:36:29.151Z","pid":255826,"hostname":"richard","msg":"Loading environment variable overrides for configuration..."}
{"level":"INFO","time":"2025-05-07T21:36:29.151Z","pid":255826,"hostname":"richard","msg":"Overriding pgHost from env: localhost"}
{"level":"INFO","time":"2025-05-07T21:36:29.151Z","pid":255826,"hostname":"richard","msg":"Overriding pgPort from env: 5432"}
{"level":"INFO","time":"2025-05-07T21:36:29.151Z","pid":255826,"hostname":"richard","msg":"Overriding pgUser from env: taskmanager_user"}
{"level":"INFO","time":"2025-05-07T21:36:29.151Z","pid":255826,"hostname":"richard","msg":"Overriding pgPassword from env."}
{"level":"INFO","time":"2025-05-07T21:36:29.151Z","pid":255826,"hostname":"richard","msg":"Overriding pgDatabase from env: taskmanager_db"}
{"level":"INFO","time":"2025-05-07T21:36:29.152Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Checking database availability at localhost:5432..."}
{"level":"INFO","time":"2025-05-07T21:36:29.153Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Database port 5432 is open on attempt 1. Proceeding..."}
{"level":"INFO","time":"2025-05-07T21:36:29.153Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: Setting up PostgreSQL connection pool..."}
{"level":"INFO","time":"2025-05-07T21:36:29.153Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: PostgreSQL connection pool configured."}
{"level":"INFO","time":"2025-05-07T21:36:29.153Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Starting schema initialization..."}
{"level":"INFO","time":"2025-05-07T21:36:29.164Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Connected to PostgreSQL."}
{"level":"INFO","time":"2025-05-07T21:36:29.164Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Force schema run enabled."}
{"level":"INFO","time":"2025-05-07T21:36:29.164Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Schema path: /home/richard/repos/mcp-task-manager-server/dist/db/schema.sql"}
{"level":"INFO","time":"2025-05-07T21:36:29.183Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Full schema script executed."}
{"level":"INFO","time":"2025-05-07T21:36:29.184Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Confirmed work_items table exists."}
{"level":"INFO","time":"2025-05-07T21:36:29.184Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Initialization marked as complete."}
{"level":"INFO","time":"2025-05-07T21:36:29.184Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Released client."}
{"level":"INFO","time":"2025-05-07T21:36:29.184Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] getInstance: Initialization successful."}
{"level":"INFO","time":"2025-05-07T21:36:29.205Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.207Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 5f998509-5cc0-47db-aeab-157d266e23af with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.209Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 5f998509-5cc0-47db-aeab-157d266e23af with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.221Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.221Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 7e4895f9-346c-497e-9291-eacee4810e9c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.222Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 7e4895f9-346c-497e-9291-eacee4810e9c with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.224Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.224Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 78bdffc1-5d43-457a-8d88-a3722cba07be with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.225Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 78bdffc1-5d43-457a-8d88-a3722cba07be with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.227Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.227Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 52c5d27d-0e17-4a62-a744-0766aec7f75d with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.228Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 52c5d27d-0e17-4a62-a744-0766aec7f75d with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.229Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.230Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 5be576ca-35de-400a-8178-1bc357892cbd with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.230Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 5be576ca-35de-400a-8178-1bc357892cbd with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.232Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"WARN","time":"2025-05-07T21:36:29.234Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 78bdffc1-5d43-457a-8d88-a3722cba07be."}
{"level":"INFO","time":"2025-05-07T21:36:29.238Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 78bdffc1-5d43-457a-8d88-a3722cba07be."}
{"level":"INFO","time":"2025-05-07T21:36:29.276Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.278Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item cc8822dd-0a66-4d18-8932-9465981d2246 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.280Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item cc8822dd-0a66-4d18-8932-9465981d2246 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.282Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.282Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item df11dfe4-0535-4553-934a-c543b3014e42 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.283Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item df11dfe4-0535-4553-934a-c543b3014e42 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.285Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.285Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 5f34420c-824c-4014-856f-4bfbc55f5390 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.286Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 5f34420c-824c-4014-856f-4bfbc55f5390 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.290Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.291Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 11508b99-5f36-44e0-bcc9-619924577f1c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.293Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 11508b99-5f36-44e0-bcc9-619924577f1c with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.296Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.297Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item f6ff6b69-686e-4b4b-bdba-da721c54e833 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.298Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item f6ff6b69-686e-4b4b-bdba-da721c54e833 with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.300Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.301Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.301Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item dac9b187-4b75-4147-9fb4-fe9d04bf7aaf with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.303Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item dac9b187-4b75-4147-9fb4-fe9d04bf7aaf with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:29.304Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 11508b99-5f36-44e0-bcc9-619924577f1c."}
{"level":"INFO","time":"2025-05-07T21:36:29.305Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.308Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 11508b99-5f36-44e0-bcc9-619924577f1c."}
{"level":"INFO","time":"2025-05-07T21:36:29.315Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 3 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.317Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 1 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.339Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.340Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 0795a4dd-af8b-40c0-bed2-0a3b3f152d43 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.341Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 0795a4dd-af8b-40c0-bed2-0a3b3f152d43 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.345Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.346Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 1c86c39b-9dad-47f2-a312-f87fe8637d57 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.348Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 1c86c39b-9dad-47f2-a312-f87fe8637d57 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.350Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.351Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item a7f066bc-99c8-4dd6-9131-d118e8906869 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.353Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item a7f066bc-99c8-4dd6-9131-d118e8906869 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.355Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.355Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 9ef995b0-7059-46b4-b44a-8c9512d456c2 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.356Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 9ef995b0-7059-46b4-b44a-8c9512d456c2 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.358Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.358Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 04e6fd84-d502-4ec2-9c7d-80d2a5daed12 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.359Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 04e6fd84-d502-4ec2-9c7d-80d2a5daed12 with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.360Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"WARN","time":"2025-05-07T21:36:29.361Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 9ef995b0-7059-46b4-b44a-8c9512d456c2."}
{"level":"INFO","time":"2025-05-07T21:36:29.362Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 999"}
{"level":"INFO","time":"2025-05-07T21:36:29.363Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 9ef995b0-7059-46b4-b44a-8c9512d456c2."}
{"level":"INFO","time":"2025-05-07T21:36:29.366Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.386Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.388Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 5e8d7dd5-d2fa-4b82-827b-5c651b15dcce with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.390Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 5e8d7dd5-d2fa-4b82-827b-5c651b15dcce with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.392Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.393Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 1155d37c-c845-49ed-b29c-d04583d05cfe with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.394Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 1155d37c-c845-49ed-b29c-d04583d05cfe with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.400Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.401Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 35afa75d-2ca9-42b7-a031-09cea7965f89 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.403Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 35afa75d-2ca9-42b7-a031-09cea7965f89 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.406Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.407Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c6466a12-d7c4-4daf-8869-cf48dcea8089 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.409Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c6466a12-d7c4-4daf-8869-cf48dcea8089 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.413Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.413Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 8fb2aac8-52dd-4c97-8176-d41007e3cd5f with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.414Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 8fb2aac8-52dd-4c97-8176-d41007e3cd5f with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.416Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"WARN","time":"2025-05-07T21:36:29.416Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 35afa75d-2ca9-42b7-a031-09cea7965f89."}
{"level":"INFO","time":"2025-05-07T21:36:29.418Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1004"}
{"level":"INFO","time":"2025-05-07T21:36:29.423Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 35afa75d-2ca9-42b7-a031-09cea7965f89."}
{"level":"INFO","time":"2025-05-07T21:36:29.427Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.448Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.448Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 11c3643f-d98b-4510-9fbc-e3c63de63c9d with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.452Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 11c3643f-d98b-4510-9fbc-e3c63de63c9d with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.454Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.454Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 8237d27f-1ce1-40b6-9fb0-e865330e3f89 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.456Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 8237d27f-1ce1-40b6-9fb0-e865330e3f89 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.458Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.459Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 62e17370-6557-4c71-a44c-472ad091379e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.460Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 62e17370-6557-4c71-a44c-472ad091379e with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.463Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.463Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 9fd9a26d-07f4-4afb-8bd5-087c9ee07ef0 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.464Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 9fd9a26d-07f4-4afb-8bd5-087c9ee07ef0 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.467Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.468Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c6713510-15fb-40b5-88a7-3cbc810643d4 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.471Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c6713510-15fb-40b5-88a7-3cbc810643d4 with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.473Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"WARN","time":"2025-05-07T21:36:29.474Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 8237d27f-1ce1-40b6-9fb0-e865330e3f89."}
{"level":"INFO","time":"2025-05-07T21:36:29.477Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002.5"}
{"level":"INFO","time":"2025-05-07T21:36:29.479Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 8237d27f-1ce1-40b6-9fb0-e865330e3f89."}
{"level":"INFO","time":"2025-05-07T21:36:29.482Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.503Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.504Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 0725a78b-5d23-409d-b5a5-dc6544fc5bf4 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.506Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 0725a78b-5d23-409d-b5a5-dc6544fc5bf4 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.510Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.511Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 29d9b277-9184-4d26-8683-52e29399f144 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.513Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 29d9b277-9184-4d26-8683-52e29399f144 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.516Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.517Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 2f039e9c-1366-4f32-819b-c81c567021b6 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.518Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 2f039e9c-1366-4f32-819b-c81c567021b6 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.520Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.521Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e9dc0d31-94e8-4fa2-9295-dff7238bce6d with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.522Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e9dc0d31-94e8-4fa2-9295-dff7238bce6d with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.524Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.525Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 3a866c38-a5c6-4b5a-83db-d5dbc56ed0f3 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.526Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 3a866c38-a5c6-4b5a-83db-d5dbc56ed0f3 with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.528Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"WARN","time":"2025-05-07T21:36:29.528Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 3a866c38-a5c6-4b5a-83db-d5dbc56ed0f3."}
{"level":"INFO","time":"2025-05-07T21:36:29.530Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000.5"}
{"level":"INFO","time":"2025-05-07T21:36:29.533Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 3a866c38-a5c6-4b5a-83db-d5dbc56ed0f3."}
{"level":"INFO","time":"2025-05-07T21:36:29.539Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.561Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.561Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item daaf4ceb-bddf-4290-983f-77fc72f2fc34 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.562Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item daaf4ceb-bddf-4290-983f-77fc72f2fc34 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.564Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.565Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 0014ed44-5cc0-41cf-9cdb-bc320cdebe45 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.568Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 0014ed44-5cc0-41cf-9cdb-bc320cdebe45 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.572Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.573Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item d3dedaea-626e-41bf-a24f-452af841eef3 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.575Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item d3dedaea-626e-41bf-a24f-452af841eef3 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.577Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.578Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 3f85b66f-1eab-4602-8c99-ef7aa8c6b4a9 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.579Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 3f85b66f-1eab-4602-8c99-ef7aa8c6b4a9 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.582Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.582Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item b968980d-4987-4489-9dd8-65c6af4fa111 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.583Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item b968980d-4987-4489-9dd8-65c6af4fa111 with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.585Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.586Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.587Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item facb7ef5-1d28-4e93-a8fd-fa1bcc48dc1c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.587Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item facb7ef5-1d28-4e93-a8fd-fa1bcc48dc1c with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.589Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.590Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 24095d93-01e5-4760-984b-551533b0f1c1 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.590Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 24095d93-01e5-4760-984b-551533b0f1c1 with order_key 1000 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:29.591Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 0014ed44-5cc0-41cf-9cdb-bc320cdebe45."}
{"level":"WARN","time":"2025-05-07T21:36:29.593Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositorySearchOrder] Reference item 24095d93-01e5-4760-984b-551533b0f1c1 does not belong to the expected parent daaf4ceb-bddf-4290-983f-77fc72f2fc34. Actual parent: facb7ef5-1d28-4e93-a8fd-fa1bcc48dc1c."}
{"level":"ERROR","time":"2025-05-07T21:36:29.593Z","pid":255826,"hostname":"richard","err":{"type":"NotFoundError","message":"Reference work item 24095d93-01e5-4760-984b-551533b0f1c1 not found, not active, or does not belong to parent daaf4ceb-bddf-4290-983f-77fc72f2fc34.","stack":"NotFoundError: Reference work item 24095d93-01e5-4760-984b-551533b0f1c1 not found, not active, or does not belong to parent daaf4ceb-bddf-4290-983f-77fc72f2fc34.\n    at WorkItemRepositorySearchOrder.findNeighbourOrderKeys (/home/richard/repos/mcp-task-manager-server/src/repositories/WorkItemRepositorySearchOrder.ts:246:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemUpdateService.ts:104:30\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemUpdateService.updateWorkItem (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemUpdateService.ts:71:5)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemUpdateIntegration.test.ts:188:7)","name":"NotFoundError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:29.605Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"WARN","time":"2025-05-07T21:36:29.605Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 0014ed44-5cc0-41cf-9cdb-bc320cdebe45."}
{"level":"WARN","time":"2025-05-07T21:36:29.609Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositorySearchOrder] Reference item 24095d93-01e5-4760-984b-551533b0f1c1 does not belong to the expected parent daaf4ceb-bddf-4290-983f-77fc72f2fc34. Actual parent: facb7ef5-1d28-4e93-a8fd-fa1bcc48dc1c."}
{"level":"ERROR","time":"2025-05-07T21:36:29.609Z","pid":255826,"hostname":"richard","err":{"type":"NotFoundError","message":"Reference work item 24095d93-01e5-4760-984b-551533b0f1c1 not found, not active, or does not belong to parent daaf4ceb-bddf-4290-983f-77fc72f2fc34.","stack":"NotFoundError: Reference work item 24095d93-01e5-4760-984b-551533b0f1c1 not found, not active, or does not belong to parent daaf4ceb-bddf-4290-983f-77fc72f2fc34.\n    at WorkItemRepositorySearchOrder.findNeighbourOrderKeys (/home/richard/repos/mcp-task-manager-server/src/repositories/WorkItemRepositorySearchOrder.ts:246:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemUpdateService.ts:104:30\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemUpdateService.updateWorkItem (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemUpdateService.ts:71:5)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemUpdateIntegration.test.ts:191:7)","name":"NotFoundError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:29.610Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"INFO","time":"2025-05-07T21:36:29.640Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.641Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item fc1b0c93-8a90-4159-9826-d596c52938a2 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.642Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item fc1b0c93-8a90-4159-9826-d596c52938a2 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.644Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.645Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 2cf00a0b-de4c-4161-9a21-ab840f9016e7 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.646Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 2cf00a0b-de4c-4161-9a21-ab840f9016e7 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.648Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.648Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 4ea7f08a-07cd-4ca3-8750-0d9a6b33e653 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.649Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 4ea7f08a-07cd-4ca3-8750-0d9a6b33e653 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.652Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.653Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 0d13880a-c43a-4039-aff8-807f4ed05940 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.655Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 0d13880a-c43a-4039-aff8-807f4ed05940 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.657Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.658Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e8e51db2-a6a1-4642-920f-c5a0c9e2b63c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.660Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e8e51db2-a6a1-4642-920f-c5a0c9e2b63c with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.663Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"WARN","time":"2025-05-07T21:36:29.664Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 2cf00a0b-de4c-4161-9a21-ab840f9016e7."}
{"level":"INFO","time":"2025-05-07T21:36:29.666Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1004"}
{"level":"INFO","time":"2025-05-07T21:36:29.668Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 2cf00a0b-de4c-4161-9a21-ab840f9016e7."}
{"level":"INFO","time":"2025-05-07T21:36:29.671Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.690Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.690Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 19654a8e-2fa5-4bee-b7e5-6b4ceb09b420 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.692Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 19654a8e-2fa5-4bee-b7e5-6b4ceb09b420 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.696Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.697Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 474d778a-3330-42ae-9686-a23b033710bf with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.698Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 474d778a-3330-42ae-9686-a23b033710bf with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.700Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.701Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item bdf8ef57-6fa5-4d97-a666-e6aecb732b43 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.702Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item bdf8ef57-6fa5-4d97-a666-e6aecb732b43 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.703Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.704Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 67019e28-d8f6-4953-938c-bdbb913ca5f8 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.705Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 67019e28-d8f6-4953-938c-bdbb913ca5f8 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.706Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.707Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 37b46a34-bc44-41ec-a243-12880a9f210d with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.708Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 37b46a34-bc44-41ec-a243-12880a9f210d with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.710Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"WARN","time":"2025-05-07T21:36:29.711Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 37b46a34-bc44-41ec-a243-12880a9f210d."}
{"level":"INFO","time":"2025-05-07T21:36:29.713Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 999"}
{"level":"INFO","time":"2025-05-07T21:36:29.716Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Recorded history for update of work item 37b46a34-bc44-41ec-a243-12880a9f210d."}
{"level":"INFO","time":"2025-05-07T21:36:29.720Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.742Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.744Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c5a98c3f-0bac-4abf-ba46-fd2dce0c158f with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.746Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c5a98c3f-0bac-4abf-ba46-fd2dce0c158f with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.749Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.749Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 952365e2-ddf6-4c5a-a540-b01d3c13a266 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.750Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 952365e2-ddf6-4c5a-a540-b01d3c13a266 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.752Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.754Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 832a7837-23f6-4639-8ebb-12edba9de0ab with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.756Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 832a7837-23f6-4639-8ebb-12edba9de0ab with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.757Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.758Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item a72f734e-a693-4262-99b1-f27e2a69820d with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.759Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item a72f734e-a693-4262-99b1-f27e2a69820d with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.761Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.761Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 68de1b50-3025-4215-a3bd-4d33b0b06c4a with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.762Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 68de1b50-3025-4215-a3bd-4d33b0b06c4a with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.764Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"INFO","time":"2025-05-07T21:36:29.765Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.766Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 635f6c9b-bcb6-4e94-8183-750546c256a1 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.768Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 635f6c9b-bcb6-4e94-8183-750546c256a1 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.770Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.770Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item ae1be762-889b-4b48-a1c1-9d843ae5e581 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.771Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item ae1be762-889b-4b48-a1c1-9d843ae5e581 with order_key 1002 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:29.772Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 952365e2-ddf6-4c5a-a540-b01d3c13a266."}
{"level":"INFO","time":"2025-05-07T21:36:29.776Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Update processed for 952365e2-ddf6-4c5a-a540-b01d3c13a266, but no effective changes detected. Skipping history."}
{"level":"WARN","time":"2025-05-07T21:36:29.778Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 952365e2-ddf6-4c5a-a540-b01d3c13a266."}
{"level":"INFO","time":"2025-05-07T21:36:29.781Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Update processed for 952365e2-ddf6-4c5a-a540-b01d3c13a266, but no effective changes detected. Skipping history."}
{"level":"INFO","time":"2025-05-07T21:36:29.805Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.806Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item a71f8df3-9c20-4ca9-9b63-6440fee02dda with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.807Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item a71f8df3-9c20-4ca9-9b63-6440fee02dda with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.811Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.811Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 6622b7d0-c7a4-4736-adf7-db19d0c79881 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.813Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 6622b7d0-c7a4-4736-adf7-db19d0c79881 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.816Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.816Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 53bc6ea9-62d1-430e-b28e-cbec09647334 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.817Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 53bc6ea9-62d1-430e-b28e-cbec09647334 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.819Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.819Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 7ec0a084-8ecb-419b-b2b2-5dd6ab759062 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.820Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 7ec0a084-8ecb-419b-b2b2-5dd6ab759062 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.822Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.822Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item ac5700ae-8adc-46e5-a06a-954a4bd3ac15 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.823Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item ac5700ae-8adc-46e5-a06a-954a4bd3ac15 with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.824Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
{"level":"WARN","time":"2025-05-07T21:36:29.825Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 6622b7d0-c7a4-4736-adf7-db19d0c79881."}
{"level":"ERROR","time":"2025-05-07T21:36:29.827Z","pid":255826,"hostname":"richard","err":{"type":"ValidationError","message":"New parent work item with ID f47ac10b-58cc-4372-a567-0e02b2c3d479 not found or is inactive.","stack":"ValidationError: New parent work item with ID f47ac10b-58cc-4372-a567-0e02b2c3d479 not found or is inactive.\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemUpdateService.ts:90:17\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemUpdateService.updateWorkItem (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemUpdateService.ts:71:5)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemUpdateIntegration.test.ts:319:7)","name":"ValidationError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:29.828Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"WARN","time":"2025-05-07T21:36:29.828Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 6622b7d0-c7a4-4736-adf7-db19d0c79881."}
{"level":"ERROR","time":"2025-05-07T21:36:29.829Z","pid":255826,"hostname":"richard","err":{"type":"ValidationError","message":"New parent work item with ID f47ac10b-58cc-4372-a567-0e02b2c3d479 not found or is inactive.","stack":"ValidationError: New parent work item with ID f47ac10b-58cc-4372-a567-0e02b2c3d479 not found or is inactive.\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemUpdateService.ts:90:17\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemUpdateService.updateWorkItem (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemUpdateService.ts:71:5)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemUpdateIntegration.test.ts:322:7)","name":"ValidationError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:29.830Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"INFO","time":"2025-05-07T21:36:29.850Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.850Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 6bf1b621-984a-4fd1-ba81-dc200a2e9f7f with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.851Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 6bf1b621-984a-4fd1-ba81-dc200a2e9f7f with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.854Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:29.854Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item fd23eeac-ef5c-479f-9708-5c54ea5164b4 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.855Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item fd23eeac-ef5c-479f-9708-5c54ea5164b4 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.857Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:29.857Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 7528a9d4-1016-43ae-877d-5827701a2d8e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.857Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 7528a9d4-1016-43ae-877d-5827701a2d8e with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.859Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:29.859Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e11f0220-b043-43c9-b07d-3ce921674c52 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.860Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e11f0220-b043-43c9-b07d-3ce921674c52 with order_key 1002 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.862Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1003"}
{"level":"INFO","time":"2025-05-07T21:36:29.862Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item f7faea53-e45c-4674-b32a-c5df86779265 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:29.864Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item f7faea53-e45c-4674-b32a-c5df86779265 with order_key 1003 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:29.866Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 4 items."}
PASS dist/services/__tests__/workItemUpdateIntegration.test.js
{"level":"INFO","time":"2025-05-07T21:36:29.967Z","pid":255826,"hostname":"richard","msg":"Loading environment variable overrides for configuration..."}
{"level":"INFO","time":"2025-05-07T21:36:29.967Z","pid":255826,"hostname":"richard","msg":"Overriding pgHost from env: localhost"}
{"level":"INFO","time":"2025-05-07T21:36:29.967Z","pid":255826,"hostname":"richard","msg":"Overriding pgPort from env: 5432"}
{"level":"INFO","time":"2025-05-07T21:36:29.967Z","pid":255826,"hostname":"richard","msg":"Overriding pgUser from env: taskmanager_user"}
{"level":"INFO","time":"2025-05-07T21:36:29.967Z","pid":255826,"hostname":"richard","msg":"Overriding pgPassword from env."}
{"level":"INFO","time":"2025-05-07T21:36:29.967Z","pid":255826,"hostname":"richard","msg":"Overriding pgDatabase from env: taskmanager_db"}
{"level":"INFO","time":"2025-05-07T21:36:29.967Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Checking database availability at localhost:5432..."}
{"level":"INFO","time":"2025-05-07T21:36:29.968Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Database port 5432 is open on attempt 1. Proceeding..."}
{"level":"INFO","time":"2025-05-07T21:36:29.968Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: Setting up PostgreSQL connection pool..."}
{"level":"INFO","time":"2025-05-07T21:36:29.969Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: PostgreSQL connection pool configured."}
{"level":"INFO","time":"2025-05-07T21:36:29.969Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Starting schema initialization..."}
{"level":"INFO","time":"2025-05-07T21:36:29.978Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Connected to PostgreSQL."}
{"level":"INFO","time":"2025-05-07T21:36:29.979Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Force schema run enabled."}
{"level":"INFO","time":"2025-05-07T21:36:29.979Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Schema path: /home/richard/repos/mcp-task-manager-server/dist/db/schema.sql"}
{"level":"INFO","time":"2025-05-07T21:36:29.993Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Full schema script executed."}
{"level":"INFO","time":"2025-05-07T21:36:29.994Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Confirmed work_items table exists."}
{"level":"INFO","time":"2025-05-07T21:36:29.995Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Initialization marked as complete."}
{"level":"INFO","time":"2025-05-07T21:36:29.995Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Released client."}
{"level":"INFO","time":"2025-05-07T21:36:29.995Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] getInstance: Initialization successful."}
{"level":"INFO","time":"2025-05-07T21:36:30.015Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.018Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c6f8df2a-488a-4a34-9bb5-a4294ff6ba31 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.020Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c6f8df2a-488a-4a34-9bb5-a4294ff6ba31 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.035Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.036Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 0b3100cd-2524-4956-bc5f-7f3e965cabbf with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.037Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 0b3100cd-2524-4956-bc5f-7f3e965cabbf with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.039Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.039Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 5bb6bbf2-2742-47bc-b2fd-37dabfab16e9 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.040Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 5bb6bbf2-2742-47bc-b2fd-37dabfab16e9 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.041Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Attempting to promote work item 0b3100cd-2524-4956-bc5f-7f3e965cabbf to a project."}
{"level":"INFO","time":"2025-05-07T21:36:30.042Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.043Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Adding 'linked' dependency from original parent c6f8df2a-488a-4a34-9bb5-a4294ff6ba31 to new project 0b3100cd-2524-4956-bc5f-7f3e965cabbf."}
{"level":"INFO","time":"2025-05-07T21:36:30.044Z","pid":255826,"hostname":"richard","msg":"[WorkItemDependencyUpdateService] Adding/updating 1 dependencies for work item c6f8df2a-488a-4a34-9bb5-a4294ff6ba31"}
{"level":"INFO","time":"2025-05-07T21:36:30.049Z","pid":255826,"hostname":"richard","msg":"[WorkItemDependencyUpdateService] Recorded history for 1 dep changes for c6f8df2a-488a-4a34-9bb5-a4294ff6ba31."}
{"level":"INFO","time":"2025-05-07T21:36:30.060Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Recorded history for promoting work item 0b3100cd-2524-4956-bc5f-7f3e965cabbf."}
{"level":"INFO","time":"2025-05-07T21:36:30.063Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 2 items."}
{"level":"INFO","time":"2025-05-07T21:36:30.064Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 1 items."}
{"level":"INFO","time":"2025-05-07T21:36:30.085Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.086Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item f52ce87c-9c24-458b-b5df-9638dd483258 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.088Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item f52ce87c-9c24-458b-b5df-9638dd483258 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.090Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.090Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c210f275-b2f0-433d-81b8-6af412d49de8 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.091Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c210f275-b2f0-433d-81b8-6af412d49de8 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.093Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.093Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 0520a965-8cf3-4033-ae1e-49ffb1d22c02 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.094Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 0520a965-8cf3-4033-ae1e-49ffb1d22c02 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.096Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Attempting to promote work item c210f275-b2f0-433d-81b8-6af412d49de8 to a project."}
{"level":"INFO","time":"2025-05-07T21:36:30.097Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.097Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Adding 'linked' dependency from original parent f52ce87c-9c24-458b-b5df-9638dd483258 to new project c210f275-b2f0-433d-81b8-6af412d49de8."}
{"level":"INFO","time":"2025-05-07T21:36:30.097Z","pid":255826,"hostname":"richard","msg":"[WorkItemDependencyUpdateService] Adding/updating 1 dependencies for work item f52ce87c-9c24-458b-b5df-9638dd483258"}
{"level":"INFO","time":"2025-05-07T21:36:30.101Z","pid":255826,"hostname":"richard","msg":"[WorkItemDependencyUpdateService] Recorded history for 1 dep changes for f52ce87c-9c24-458b-b5df-9638dd483258."}
{"level":"INFO","time":"2025-05-07T21:36:30.105Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Recorded history for promoting work item c210f275-b2f0-433d-81b8-6af412d49de8."}
{"level":"INFO","time":"2025-05-07T21:36:30.130Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.130Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 7632b89e-ec87-45e1-b88f-4c6eeee71a7b with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.132Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 7632b89e-ec87-45e1-b88f-4c6eeee71a7b with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.137Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.139Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item f7a20800-6dbf-4b1c-8492-53b0b9b320fd with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.142Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item f7a20800-6dbf-4b1c-8492-53b0b9b320fd with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.144Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.144Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 70148996-3b4c-4e5f-849b-b41502e993ce with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.145Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 70148996-3b4c-4e5f-849b-b41502e993ce with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.147Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Attempting to promote work item 7632b89e-ec87-45e1-b88f-4c6eeee71a7b to a project."}
{"level":"ERROR","time":"2025-05-07T21:36:30.148Z","pid":255826,"hostname":"richard","err":{"type":"ValidationError","message":"Work item 7632b89e-ec87-45e1-b88f-4c6eeee71a7b is already a top-level project.","stack":"ValidationError: Work item 7632b89e-ec87-45e1-b88f-4c6eeee71a7b is already a top-level project.\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:65:15\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemPromoteService.promoteToProject (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:49:5)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemPromoteIntegration.test.ts:120:7)","name":"ValidationError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:30.157Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"INFO","time":"2025-05-07T21:36:30.158Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Attempting to promote work item 7632b89e-ec87-45e1-b88f-4c6eeee71a7b to a project."}
{"level":"ERROR","time":"2025-05-07T21:36:30.160Z","pid":255826,"hostname":"richard","err":{"type":"ValidationError","message":"Work item 7632b89e-ec87-45e1-b88f-4c6eeee71a7b is already a top-level project.","stack":"ValidationError: Work item 7632b89e-ec87-45e1-b88f-4c6eeee71a7b is already a top-level project.\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:65:15\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemPromoteService.promoteToProject (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:49:5)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemPromoteIntegration.test.ts:123:7)","name":"ValidationError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:30.161Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"INFO","time":"2025-05-07T21:36:30.182Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.182Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c7ee2dfc-98b5-47bc-91f0-bf94cea43eba with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.183Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c7ee2dfc-98b5-47bc-91f0-bf94cea43eba with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.185Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.185Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 5407c1bd-2c27-408f-9939-cb1305575f63 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.186Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 5407c1bd-2c27-408f-9939-cb1305575f63 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.187Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.188Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item ddac3a02-957d-49b6-b00e-2431cc9b9c74 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.189Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item ddac3a02-957d-49b6-b00e-2431cc9b9c74 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.191Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Attempting to promote work item f47ac10b-58cc-4372-a567-0e02b2c3d479 to a project."}
{"level":"ERROR","time":"2025-05-07T21:36:30.194Z","pid":255826,"hostname":"richard","err":{"type":"NotFoundError","message":"Work item with ID f47ac10b-58cc-4372-a567-0e02b2c3d479 not found.","stack":"NotFoundError: Work item with ID f47ac10b-58cc-4372-a567-0e02b2c3d479 not found.\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:60:17\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemPromoteService.promoteToProject (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:49:5)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemPromoteIntegration.test.ts:130:7)","name":"NotFoundError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:30.197Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"INFO","time":"2025-05-07T21:36:30.222Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.223Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 7721abe4-8cec-4d56-a1b4-e29583041451 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.226Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 7721abe4-8cec-4d56-a1b4-e29583041451 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.228Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.228Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c3707988-a308-4500-92a8-ea45f17aa28a with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.229Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c3707988-a308-4500-92a8-ea45f17aa28a with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.231Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.231Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 483c6a46-9b47-4af0-bc90-2ecc68b48722 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.232Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 483c6a46-9b47-4af0-bc90-2ecc68b48722 with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:30.234Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: c3707988-a308-4500-92a8-ea45f17aa28a"}
{"level":"INFO","time":"2025-05-07T21:36:30.237Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:30.237Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:30.238Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action 96b503bc-f80b-4098-a4b1-53cc7b35d480."}
{"level":"INFO","time":"2025-05-07T21:36:30.240Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Attempting to promote work item c3707988-a308-4500-92a8-ea45f17aa28a to a project."}
{"level":"ERROR","time":"2025-05-07T21:36:30.241Z","pid":255826,"hostname":"richard","err":{"type":"ValidationError","message":"Work item with ID c3707988-a308-4500-92a8-ea45f17aa28a is inactive and cannot be promoted.","stack":"ValidationError: Work item with ID c3707988-a308-4500-92a8-ea45f17aa28a is inactive and cannot be promoted.\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:58:17\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemPromoteService.promoteToProject (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:49:5)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemPromoteIntegration.test.ts:136:7)","name":"ValidationError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:30.241Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"INFO","time":"2025-05-07T21:36:30.242Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Attempting to promote work item c3707988-a308-4500-92a8-ea45f17aa28a to a project."}
{"level":"ERROR","time":"2025-05-07T21:36:30.243Z","pid":255826,"hostname":"richard","err":{"type":"ValidationError","message":"Work item with ID c3707988-a308-4500-92a8-ea45f17aa28a is inactive and cannot be promoted.","stack":"ValidationError: Work item with ID c3707988-a308-4500-92a8-ea45f17aa28a is inactive and cannot be promoted.\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:58:17\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemPromoteService.promoteToProject (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemPromoteService.ts:49:5)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemPromoteIntegration.test.ts:139:7)","name":"ValidationError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:30.243Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"INFO","time":"2025-05-07T21:36:30.263Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.264Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e25bfd64-427e-4b08-b98e-0c00e9d99e33 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.265Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e25bfd64-427e-4b08-b98e-0c00e9d99e33 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.267Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.268Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 602d4f5c-bdda-4eaa-9e45-69d0edbfca22 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.269Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 602d4f5c-bdda-4eaa-9e45-69d0edbfca22 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.271Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.272Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 88741449-642d-4d76-ba9c-9028e9cc19b8 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.272Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 88741449-642d-4d76-ba9c-9028e9cc19b8 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.275Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Attempting to promote work item 602d4f5c-bdda-4eaa-9e45-69d0edbfca22 to a project."}
{"level":"INFO","time":"2025-05-07T21:36:30.276Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.278Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Adding 'linked' dependency from original parent e25bfd64-427e-4b08-b98e-0c00e9d99e33 to new project 602d4f5c-bdda-4eaa-9e45-69d0edbfca22."}
{"level":"INFO","time":"2025-05-07T21:36:30.279Z","pid":255826,"hostname":"richard","msg":"[WorkItemDependencyUpdateService] Adding/updating 1 dependencies for work item e25bfd64-427e-4b08-b98e-0c00e9d99e33"}
{"level":"INFO","time":"2025-05-07T21:36:30.288Z","pid":255826,"hostname":"richard","msg":"[WorkItemDependencyUpdateService] Recorded history for 1 dep changes for e25bfd64-427e-4b08-b98e-0c00e9d99e33."}
{"level":"INFO","time":"2025-05-07T21:36:30.294Z","pid":255826,"hostname":"richard","msg":"[WorkItemPromoteService] Recorded history for promoting work item 602d4f5c-bdda-4eaa-9e45-69d0edbfca22."}
{"level":"INFO","time":"2025-05-07T21:36:30.297Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:30.301Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 2dd9cb23-8446-4250-97e5-1ca3dfabe091"}
{"level":"INFO","time":"2025-05-07T21:36:30.304Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:30.309Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 0b317821-cea7-4a56-a442-853a78541d55"}
{"level":"INFO","time":"2025-05-07T21:36:30.312Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:30.314Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully redid action 0b317821-cea7-4a56-a442-853a78541d55"}
{"level":"INFO","time":"2025-05-07T21:36:30.317Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:30.322Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully redid action 2dd9cb23-8446-4250-97e5-1ca3dfabe091"}
PASS dist/services/__tests__/workItemPromoteIntegration.test.js
{"level":"INFO","time":"2025-05-07T21:36:30.414Z","pid":255826,"hostname":"richard","msg":"Loading environment variable overrides for configuration..."}
{"level":"INFO","time":"2025-05-07T21:36:30.414Z","pid":255826,"hostname":"richard","msg":"Overriding pgHost from env: localhost"}
{"level":"INFO","time":"2025-05-07T21:36:30.414Z","pid":255826,"hostname":"richard","msg":"Overriding pgPort from env: 5432"}
{"level":"INFO","time":"2025-05-07T21:36:30.414Z","pid":255826,"hostname":"richard","msg":"Overriding pgUser from env: taskmanager_user"}
{"level":"INFO","time":"2025-05-07T21:36:30.414Z","pid":255826,"hostname":"richard","msg":"Overriding pgPassword from env."}
{"level":"INFO","time":"2025-05-07T21:36:30.414Z","pid":255826,"hostname":"richard","msg":"Overriding pgDatabase from env: taskmanager_db"}
{"level":"INFO","time":"2025-05-07T21:36:30.414Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Checking database availability at localhost:5432..."}
{"level":"INFO","time":"2025-05-07T21:36:30.420Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Database port 5432 is open on attempt 1. Proceeding..."}
{"level":"INFO","time":"2025-05-07T21:36:30.420Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: Setting up PostgreSQL connection pool..."}
{"level":"INFO","time":"2025-05-07T21:36:30.420Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: PostgreSQL connection pool configured."}
{"level":"INFO","time":"2025-05-07T21:36:30.420Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Starting schema initialization..."}
{"level":"INFO","time":"2025-05-07T21:36:30.431Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Connected to PostgreSQL."}
{"level":"INFO","time":"2025-05-07T21:36:30.431Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Force schema run enabled."}
{"level":"INFO","time":"2025-05-07T21:36:30.431Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Schema path: /home/richard/repos/mcp-task-manager-server/dist/db/schema.sql"}
{"level":"INFO","time":"2025-05-07T21:36:30.450Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Full schema script executed."}
{"level":"INFO","time":"2025-05-07T21:36:30.452Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Confirmed work_items table exists."}
{"level":"INFO","time":"2025-05-07T21:36:30.452Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Initialization marked as complete."}
{"level":"INFO","time":"2025-05-07T21:36:30.452Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Released client."}
{"level":"INFO","time":"2025-05-07T21:36:30.452Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] getInstance: Initialization successful."}
{"level":"INFO","time":"2025-05-07T21:36:30.473Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.475Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 1d796d90-dd94-41d2-96c5-bbebeccdc623 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.477Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 1d796d90-dd94-41d2-96c5-bbebeccdc623 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.493Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.494Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e8eae632-2c4e-4bc3-b004-67515a8d471e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.496Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e8eae632-2c4e-4bc3-b004-67515a8d471e with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.498Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.498Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item a933e7f3-539e-4aff-a8a1-7875c00c59c7 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.500Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item a933e7f3-539e-4aff-a8a1-7875c00c59c7 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.501Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.502Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item af2ad086-10a1-4548-bc33-37a77cb42111 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.502Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item af2ad086-10a1-4548-bc33-37a77cb42111 with order_key 1000 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:30.504Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: a933e7f3-539e-4aff-a8a1-7875c00c59c7"}
{"level":"INFO","time":"2025-05-07T21:36:30.507Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:30.507Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:30.508Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action 5f09dae4-d983-49e7-bd6e-238285be7813."}
{"level":"INFO","time":"2025-05-07T21:36:30.531Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.533Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 6f60796f-235c-4b41-a531-42a386085217 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.538Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 6f60796f-235c-4b41-a531-42a386085217 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.540Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.540Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 3e75a0d4-1828-4b9b-94cc-e6f3b4121c95 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.541Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 3e75a0d4-1828-4b9b-94cc-e6f3b4121c95 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.543Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.543Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item ecadbb12-d993-4aea-826c-aff96bc522e0 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.544Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item ecadbb12-d993-4aea-826c-aff96bc522e0 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.546Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.546Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item f85204c7-acea-4fc8-a17a-426067aa915c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.547Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item f85204c7-acea-4fc8-a17a-426067aa915c with order_key 1000 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:30.570Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: 6f60796f-235c-4b41-a531-42a386085217"}
{"level":"INFO","time":"2025-05-07T21:36:30.582Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 4 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:30.583Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryDependencies] Soft deleted 1 dependency link(s)."}
{"level":"INFO","time":"2025-05-07T21:36:30.583Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Soft deleted 1 active dependency link(s)."}
{"level":"INFO","time":"2025-05-07T21:36:30.585Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action 2750efcf-4cad-4cff-a84a-c59d69386738."}
{"level":"INFO","time":"2025-05-07T21:36:30.631Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.633Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 60d3f48a-6b6b-41e4-977d-f0037aea7e82 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.637Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 60d3f48a-6b6b-41e4-977d-f0037aea7e82 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.650Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.652Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 93dea8f0-ad6d-4ccf-92ac-14890592da0c with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.654Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 93dea8f0-ad6d-4ccf-92ac-14890592da0c with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.658Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.659Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c3fb2f2d-a7ea-4f34-a8aa-b3788aecd2ec with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.661Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c3fb2f2d-a7ea-4f34-a8aa-b3788aecd2ec with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.663Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.665Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 324dad59-315a-401f-a89c-ab12593b148f with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.666Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 324dad59-315a-401f-a89c-ab12593b148f with order_key 1000 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:30.668Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: 93dea8f0-ad6d-4ccf-92ac-14890592da0c"}
{"level":"INFO","time":"2025-05-07T21:36:30.670Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 2 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:30.670Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:30.671Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action f952fd37-d5ae-4b92-ab55-ccf528a5eae1."}
{"level":"INFO","time":"2025-05-07T21:36:30.672Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:30.681Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action f952fd37-d5ae-4b92-ab55-ccf528a5eae1"}
{"level":"WARN","time":"2025-05-07T21:36:30.684Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: c3fb2f2d-a7ea-4f34-a8aa-b3788aecd2ec"}
{"level":"INFO","time":"2025-05-07T21:36:30.687Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:30.687Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:30.688Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action b132caf6-f912-46f9-9871-6541175285e4."}
{"level":"INFO","time":"2025-05-07T21:36:30.690Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:30.690Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] No undo action found to redo."}
PASS dist/services/__tests__/workItemDeleteIntegration.test.js
  ● Console

    console.log
      Setting up dependency for test: {
        from: 'f85204c7-acea-4fc8-a17a-426067aa915c',
        to: 'ecadbb12-d993-4aea-826c-aff96bc522e0'
      }

      at Object.<anonymous> (src/services/__tests__/workItemDeleteIntegration.test.ts:150:15)

    console.log
      Initial dependency check: [
        {
          work_item_id: 'f85204c7-acea-4fc8-a17a-426067aa915c',
          depends_on_work_item_id: 'ecadbb12-d993-4aea-826c-aff96bc522e0',
          dependency_type: 'finish-to-start',
          is_active: true
        }
      ]

      at Object.<anonymous> (src/services/__tests__/workItemDeleteIntegration.test.ts:178:15)

    console.log
      
      --- DB State Check: BEFORE DELETE ---

      at logDatabaseState (src/services/__tests__/workItemDeleteIntegration.test.ts:19:13)

    console.error
      Error during DB State Check: BEFORE DELETE: error: column "shortname" does not exist
          at /home/richard/repos/mcp-task-manager-server/node_modules/pg-pool/index.js:45:11
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at logDatabaseState (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemDeleteIntegration.test.ts:21:25)
          at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemDeleteIntegration.test.ts:193:7) {
        length: 109,
        severity: 'ERROR',
        code: '42703',
        detail: undefined,
        hint: undefined,
        position: '28',
        internalPosition: undefined,
        internalQuery: undefined,
        where: undefined,
        schema: undefined,
        table: undefined,
        column: undefined,
        dataType: undefined,
        constraint: undefined,
        file: 'parse_relation.c',
        line: '3716',
        routine: 'errorMissingColumn'
      }

      56 |   } catch (error) {
      57 |     // Use console.error for errors
    > 58 |     console.error(`Error during DB State Check${context ? `: ${context}` : ''}:`, error);
         |             ^
      59 |   }
      60 | };
      61 |

      at logDatabaseState (src/services/__tests__/workItemDeleteIntegration.test.ts:58:13)
      at Object.<anonymous> (src/services/__tests__/workItemDeleteIntegration.test.ts:193:7)

    console.log
      
      --- DB State Check: AFTER DELETE ---

      at logDatabaseState (src/services/__tests__/workItemDeleteIntegration.test.ts:19:13)

    console.error
      Error during DB State Check: AFTER DELETE: error: column "shortname" does not exist
          at /home/richard/repos/mcp-task-manager-server/node_modules/pg-pool/index.js:45:11
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at logDatabaseState (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemDeleteIntegration.test.ts:21:25)
          at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemDeleteIntegration.test.ts:199:7) {
        length: 109,
        severity: 'ERROR',
        code: '42703',
        detail: undefined,
        hint: undefined,
        position: '28',
        internalPosition: undefined,
        internalQuery: undefined,
        where: undefined,
        schema: undefined,
        table: undefined,
        column: undefined,
        dataType: undefined,
        constraint: undefined,
        file: 'parse_relation.c',
        line: '3716',
        routine: 'errorMissingColumn'
      }

      56 |   } catch (error) {
      57 |     // Use console.error for errors
    > 58 |     console.error(`Error during DB State Check${context ? `: ${context}` : ''}:`, error);
         |             ^
      59 |   }
      60 | };
      61 |

      at logDatabaseState (src/services/__tests__/workItemDeleteIntegration.test.ts:58:13)
      at Object.<anonymous> (src/services/__tests__/workItemDeleteIntegration.test.ts:199:7)

{"level":"INFO","time":"2025-05-07T21:36:30.790Z","pid":255826,"hostname":"richard","msg":"Loading environment variable overrides for configuration..."}
{"level":"INFO","time":"2025-05-07T21:36:30.790Z","pid":255826,"hostname":"richard","msg":"Overriding pgHost from env: localhost"}
{"level":"INFO","time":"2025-05-07T21:36:30.790Z","pid":255826,"hostname":"richard","msg":"Overriding pgPort from env: 5432"}
{"level":"INFO","time":"2025-05-07T21:36:30.790Z","pid":255826,"hostname":"richard","msg":"Overriding pgUser from env: taskmanager_user"}
{"level":"INFO","time":"2025-05-07T21:36:30.790Z","pid":255826,"hostname":"richard","msg":"Overriding pgPassword from env."}
{"level":"INFO","time":"2025-05-07T21:36:30.790Z","pid":255826,"hostname":"richard","msg":"Overriding pgDatabase from env: taskmanager_db"}
{"level":"INFO","time":"2025-05-07T21:36:30.790Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Checking database availability at localhost:5432..."}
{"level":"INFO","time":"2025-05-07T21:36:30.791Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Database port 5432 is open on attempt 1. Proceeding..."}
{"level":"INFO","time":"2025-05-07T21:36:30.791Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: Setting up PostgreSQL connection pool..."}
{"level":"INFO","time":"2025-05-07T21:36:30.791Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: PostgreSQL connection pool configured."}
{"level":"INFO","time":"2025-05-07T21:36:30.791Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Starting schema initialization..."}
{"level":"INFO","time":"2025-05-07T21:36:30.800Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Connected to PostgreSQL."}
{"level":"INFO","time":"2025-05-07T21:36:30.800Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Force schema run enabled."}
{"level":"INFO","time":"2025-05-07T21:36:30.800Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Schema path: /home/richard/repos/mcp-task-manager-server/dist/db/schema.sql"}
{"level":"INFO","time":"2025-05-07T21:36:30.819Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Full schema script executed."}
{"level":"INFO","time":"2025-05-07T21:36:30.822Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Confirmed work_items table exists."}
{"level":"INFO","time":"2025-05-07T21:36:30.822Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Initialization marked as complete."}
{"level":"INFO","time":"2025-05-07T21:36:30.822Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Released client."}
{"level":"INFO","time":"2025-05-07T21:36:30.822Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] getInstance: Initialization successful."}
{"level":"INFO","time":"2025-05-07T21:36:30.847Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.850Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 452aa02d-d9ac-40c4-bd27-dc767b65a238 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.852Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 452aa02d-d9ac-40c4-bd27-dc767b65a238 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.878Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.879Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 26a78c22-13ab-4996-9956-6571ca0e1e10 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.880Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 26a78c22-13ab-4996-9956-6571ca0e1e10 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.891Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.893Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 588ceb0c-2df7-4da6-b7f7-d5376d33c1c0 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.894Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 588ceb0c-2df7-4da6-b7f7-d5376d33c1c0 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.921Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.922Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item aec38e08-7d2d-4d11-aba8-e28903be3d9d with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.924Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item aec38e08-7d2d-4d11-aba8-e28903be3d9d with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.926Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:30.928Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 8b1e3f33-d1f5-4c06-a113-ca4464637d54 with 1 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.929Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 8b1e3f33-d1f5-4c06-a113-ca4464637d54 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.954Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.955Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 19ba4aae-abdb-4fe9-92bb-bc5ac26f7094 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.956Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 19ba4aae-abdb-4fe9-92bb-bc5ac26f7094 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.958Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to undo last action."}
{"level":"INFO","time":"2025-05-07T21:36:30.961Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Successfully undid action 5994abe1-6989-4132-9d31-3f9b219ab40c"}
{"level":"INFO","time":"2025-05-07T21:36:30.964Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.964Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 2508be90-8e44-4f76-819e-5873c9cbe5f8 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.965Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 2508be90-8e44-4f76-819e-5873c9cbe5f8 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:30.968Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] Attempting to redo last undo action."}
{"level":"INFO","time":"2025-05-07T21:36:30.968Z","pid":255826,"hostname":"richard","msg":"[WorkItemHistoryService] No undo action found to redo."}
{"level":"INFO","time":"2025-05-07T21:36:30.988Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:30.989Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item b54f1e99-da74-4d1c-8dd6-6a152544ca11 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:30.991Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item b54f1e99-da74-4d1c-8dd6-6a152544ca11 with order_key 1000 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:30.993Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService] Attempting to soft delete 1 work item(s) and cascade: b54f1e99-da74-4d1c-8dd6-6a152544ca11"}
{"level":"INFO","time":"2025-05-07T21:36:30.997Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Repository reported 1 work item(s) soft deleted."}
{"level":"INFO","time":"2025-05-07T21:36:30.997Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] No active dependency links found to soft delete."}
{"level":"INFO","time":"2025-05-07T21:36:30.998Z","pid":255826,"hostname":"richard","msg":"[WorkItemDeleteService Tx] Recorded history for delete action 6a954058-c035-42ff-a8ac-7a67bccb095a."}
{"level":"ERROR","time":"2025-05-07T21:36:31.000Z","pid":255826,"hostname":"richard","err":{"type":"ValidationError","message":"Parent work item with ID b54f1e99-da74-4d1c-8dd6-6a152544ca11 not found or is inactive.","stack":"ValidationError: Parent work item with ID b54f1e99-da74-4d1c-8dd6-6a152544ca11 not found or is inactive.\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemAddingService.ts:69:19\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemAddingService.addWorkItem (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemAddingService.ts:63:27)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemAddIntegration.test.ts:235:7)","name":"ValidationError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:31.010Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
{"level":"WARN","time":"2025-05-07T21:36:31.010Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Validation/Not Found error adding work item \"Child Task\": Parent work item with ID b54f1e99-da74-4d1c-8dd6-6a152544ca11 not found or is inactive."}
{"level":"ERROR","time":"2025-05-07T21:36:31.014Z","pid":255826,"hostname":"richard","err":{"type":"ValidationError","message":"Parent work item with ID b54f1e99-da74-4d1c-8dd6-6a152544ca11 not found or is inactive.","stack":"ValidationError: Parent work item with ID b54f1e99-da74-4d1c-8dd6-6a152544ca11 not found or is inactive.\n    at /home/richard/repos/mcp-task-manager-server/src/services/WorkItemAddingService.ts:69:19\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ActionHistoryRepository.withTransaction (/home/richard/repos/mcp-task-manager-server/src/repositories/ActionHistoryRepositoryBase.ts:106:22)\n    at WorkItemAddingService.addWorkItem (/home/richard/repos/mcp-task-manager-server/src/services/WorkItemAddingService.ts:63:27)\n    at Object.<anonymous> (/home/richard/repos/mcp-task-manager-server/src/services/__tests__/workItemAddIntegration.test.ts:241:7)","name":"ValidationError"},"msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction error, attempting rollback"}
{"level":"INFO","time":"2025-05-07T21:36:31.015Z","pid":255826,"hostname":"richard","msg":"[ActionHistoryRepositoryBase.withTransaction] Transaction rolled back successfully."}
PASS dist/services/__tests__/workItemAddIntegration.test.js
{"level":"INFO","time":"2025-05-07T21:36:31.106Z","pid":255826,"hostname":"richard","msg":"Loading environment variable overrides for configuration..."}
{"level":"WARN","time":"2025-05-07T21:36:31.015Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Validation/Not Found error adding work item \"Child Task\": Parent work item with ID b54f1e99-da74-4d1c-8dd6-6a152544ca11 not found or is inactive."}
{"level":"INFO","time":"2025-05-07T21:36:31.106Z","pid":255826,"hostname":"richard","msg":"Overriding pgHost from env: localhost"}
{"level":"INFO","time":"2025-05-07T21:36:31.106Z","pid":255826,"hostname":"richard","msg":"Overriding pgPort from env: 5432"}
{"level":"INFO","time":"2025-05-07T21:36:31.106Z","pid":255826,"hostname":"richard","msg":"Overriding pgUser from env: taskmanager_user"}
{"level":"INFO","time":"2025-05-07T21:36:31.106Z","pid":255826,"hostname":"richard","msg":"Overriding pgPassword from env."}
{"level":"INFO","time":"2025-05-07T21:36:31.106Z","pid":255826,"hostname":"richard","msg":"Overriding pgDatabase from env: taskmanager_db"}
{"level":"INFO","time":"2025-05-07T21:36:31.107Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Checking database availability at localhost:5432..."}
{"level":"INFO","time":"2025-05-07T21:36:31.108Z","pid":255826,"hostname":"richard","msg":"[integrationSetup] Database port 5432 is open on attempt 1. Proceeding..."}
{"level":"INFO","time":"2025-05-07T21:36:31.109Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: Setting up PostgreSQL connection pool..."}
{"level":"INFO","time":"2025-05-07T21:36:31.109Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] Constructor: PostgreSQL connection pool configured."}
{"level":"INFO","time":"2025-05-07T21:36:31.109Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Starting schema initialization..."}
{"level":"INFO","time":"2025-05-07T21:36:31.122Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Connected to PostgreSQL."}
{"level":"INFO","time":"2025-05-07T21:36:31.122Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Force schema run enabled."}
{"level":"INFO","time":"2025-05-07T21:36:31.122Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Schema path: /home/richard/repos/mcp-task-manager-server/dist/db/schema.sql"}
{"level":"INFO","time":"2025-05-07T21:36:31.141Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Full schema script executed."}
{"level":"INFO","time":"2025-05-07T21:36:31.143Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Confirmed work_items table exists."}
{"level":"INFO","time":"2025-05-07T21:36:31.143Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Initialization marked as complete."}
{"level":"INFO","time":"2025-05-07T21:36:31.143Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] initializeDatabaseInternal: Released client."}
{"level":"INFO","time":"2025-05-07T21:36:31.143Z","pid":255826,"hostname":"richard","msg":"[DatabaseManager] getInstance: Initialization successful."}
{"level":"INFO","time":"2025-05-07T21:36:31.166Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:31.168Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 3c65b590-cb73-497e-8b02-a4bedf2dc245 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.170Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 3c65b590-cb73-497e-8b02-a4bedf2dc245 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.172Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:31.172Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 549af7fb-5125-4df4-bb8d-17a9ab6b109e with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.173Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 549af7fb-5125-4df4-bb8d-17a9ab6b109e with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.192Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:31.193Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 92f3e031-b926-4728-a5a2-b2a2dd7eb113 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.194Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 92f3e031-b926-4728-a5a2-b2a2dd7eb113 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.197Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:31.198Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 24c99b04-2303-4927-8a29-13eb174bce65 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.199Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 24c99b04-2303-4927-8a29-13eb174bce65 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.201Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1002"}
{"level":"INFO","time":"2025-05-07T21:36:31.201Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item c570d149-064d-4e78-b2af-0298fbaf7c4d with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.202Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item c570d149-064d-4e78-b2af-0298fbaf7c4d with order_key 1002 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:31.204Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Call to updateWorkItem for ID 92f3e031-b926-4728-a5a2-b2a2dd7eb113."}
{"level":"INFO","time":"2025-05-07T21:36:31.210Z","pid":255826,"hostname":"richard","msg":"[WorkItemUpdateService - DEPRECATED] Update processed for 92f3e031-b926-4728-a5a2-b2a2dd7eb113, but no effective changes detected. Skipping history."}
{"level":"INFO","time":"2025-05-07T21:36:31.245Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:31.246Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 6fce2b65-43ce-4a71-bf3f-c8c28014455f with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.247Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 6fce2b65-43ce-4a71-bf3f-c8c28014455f with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.249Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:31.249Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item e6d12cdc-8ccf-420c-9867-78cf771391ca with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.250Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item e6d12cdc-8ccf-420c-9867-78cf771391ca with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.252Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:31.252Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 46250dba-f989-4ba7-a312-190a41c26afb with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.253Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 46250dba-f989-4ba7-a312-190a41c26afb with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.254Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:31.255Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item d3f5ed39-b8e1-43fe-9c1c-842a30ac9960 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.255Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item d3f5ed39-b8e1-43fe-9c1c-842a30ac9960 with order_key 1001 and recorded history"}
{"level":"WARN","time":"2025-05-07T21:36:31.258Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Work item f47ac10b-58cc-4372-a567-0e02b2c3d479 not found or filtered out (isActive: any)."}
{"level":"INFO","time":"2025-05-07T21:36:31.279Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:31.280Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 1c871fe0-cb8d-4a95-bf47-b470c2ea9f16 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.282Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 1c871fe0-cb8d-4a95-bf47-b470c2ea9f16 with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.284Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:31.285Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 26d30934-31e9-4ce6-a8eb-68c0bc1e1e48 with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.286Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 26d30934-31e9-4ce6-a8eb-68c0bc1e1e48 with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.289Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:31.289Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 4be42666-9ddb-464d-8d21-0a95c5b0c9fe with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.290Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 4be42666-9ddb-464d-8d21-0a95c5b0c9fe with order_key 1000 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.292Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1001"}
{"level":"INFO","time":"2025-05-07T21:36:31.293Z","pid":255826,"hostname":"richard","msg":"[WorkItemRepositoryCRUD] Created work item 6684799e-b5f0-4772-9ad1-097efbf978ce with 0 dependencies processed."}
{"level":"INFO","time":"2025-05-07T21:36:31.293Z","pid":255826,"hostname":"richard","msg":"[WorkItemAddingService] Added work item 6684799e-b5f0-4772-9ad1-097efbf978ce with order_key 1001 and recorded history"}
{"level":"INFO","time":"2025-05-07T21:36:31.295Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 3 items."}
{"level":"INFO","time":"2025-05-07T21:36:31.296Z","pid":255826,"hostname":"richard","msg":"[WorkItemReadingService] Listed 1 items."}
PASS dist/services/__tests__/workItemReadIntegration.test.js
{"level":"INFO","time":"2025-05-07T21:36:31.376Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1000"}
{"level":"INFO","time":"2025-05-07T21:36:31.378Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 499"}
{"level":"INFO","time":"2025-05-07T21:36:31.379Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: -1"}
{"level":"INFO","time":"2025-05-07T21:36:31.379Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: -0.5"}
{"level":"INFO","time":"2025-05-07T21:36:31.380Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 2001"}
{"level":"INFO","time":"2025-05-07T21:36:31.380Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: -4"}
{"level":"INFO","time":"2025-05-07T21:36:31.381Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 100.5"}
{"level":"INFO","time":"2025-05-07T21:36:31.381Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 150"}
{"level":"INFO","time":"2025-05-07T21:36:31.381Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 11"}
{"level":"INFO","time":"2025-05-07T21:36:31.382Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 0"}
{"level":"INFO","time":"2025-05-07T21:36:31.382Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 10.1875"}
{"level":"INFO","time":"2025-05-07T21:36:31.383Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 150"}
{"level":"INFO","time":"2025-05-07T21:36:31.383Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 150"}
{"level":"INFO","time":"2025-05-07T21:36:31.384Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Generated numeric order key: 1"}
{"level":"ERROR","time":"2025-05-07T21:36:31.384Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Invalid numeric format for keyBefore: \"not-a-number\""}
{"level":"ERROR","time":"2025-05-07T21:36:31.385Z","pid":255826,"hostname":"richard","msg":"[WorkItemUtilsService] Invalid numeric format for keyAfter: \"not-a-number\""}
PASS dist/services/__tests__/unit/WorkItemUtilsService.spec.js

Test Suites: 8 passed, 8 total
Tests:       59 passed, 59 total
Snapshots:   0 total
Time:        5.52 s
Ran all test suites.
                log_id                |         log_timestamp         | operation_type | schema_name |       table_name       |                                 record_pk                                 | old_row_data |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           new_row_data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
--------------------------------------+-------------------------------+----------------+-------------+------------------------+---------------------------------------------------------------------------+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 dc9309a2-5987-45f0-86a4-a7149518a30c | 2025-05-07 21:36:31.165318+00 | INSERT         | public      | work_items             | 3c65b590-cb73-497e-8b02-a4bedf2dc245                                      |              | {"name": "Root Project 1", "tags": null, "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": 1000, "created_at": "2025-05-07T21:36:31.164+00:00", "updated_at": "2025-05-07T21:36:31.164+00:00", "description": null, "work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245", "parent_work_item_id": null}
 0f40dacb-48de-4ea4-8499-7f239ef9f653 | 2025-05-07 21:36:31.165318+00 | INSERT         | public      | action_history         | 1846fd09-4356-4418-8e2a-e818aad50a4d                                      |              | {"action_id": "1846fd09-4356-4418-8e2a-e818aad50a4d", "is_undone": false, "timestamp": "2025-05-07T21:36:31.168+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Root Project 1\"", "work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245", "undone_at_action_id": null}
 b4b0b7b1-c469-4670-82af-ca1fea8a16b4 | 2025-05-07 21:36:31.165318+00 | INSERT         | public      | undo_steps             | 93c9fedb-2aed-4bbb-affe-801421064dbf                                      |              | {"new_data": {"name": "Root Project 1", "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": "1000", "created_at": "2025-05-07T21:36:31.164Z", "updated_at": "2025-05-07T21:36:31.164Z", "description": null, "work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245", "parent_work_item_id": null}, "old_data": {"name": "Root Project 1", "status": "todo", "due_date": null, "priority": "high", "is_active": false, "order_key": "1000", "created_at": "2025-05-07T21:36:31.164Z", "updated_at": "2025-05-07T21:36:31.164Z", "description": null, "work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245", "parent_work_item_id": null}, "action_id": "1846fd09-4356-4418-8e2a-e818aad50a4d", "record_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "93c9fedb-2aed-4bbb-affe-801421064dbf"}
 e4ed63e1-e968-4fb1-9bb4-d86742784b57 | 2025-05-07 21:36:31.172234+00 | INSERT         | public      | work_items             | 549af7fb-5125-4df4-bb8d-17a9ab6b109e                                      |              | {"name": "Root Project 2", "tags": null, "status": "todo", "due_date": null, "priority": "low", "is_active": true, "order_key": 1001, "created_at": "2025-05-07T21:36:31.172+00:00", "updated_at": "2025-05-07T21:36:31.172+00:00", "description": null, "work_item_id": "549af7fb-5125-4df4-bb8d-17a9ab6b109e", "parent_work_item_id": null}
 845a49f2-c243-4f33-99d8-d8b63b8d110c | 2025-05-07 21:36:31.172234+00 | INSERT         | public      | action_history         | d2527e2f-7cf9-4620-8eb6-953f836dff48                                      |              | {"action_id": "d2527e2f-7cf9-4620-8eb6-953f836dff48", "is_undone": false, "timestamp": "2025-05-07T21:36:31.172+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Root Project 2\"", "work_item_id": "549af7fb-5125-4df4-bb8d-17a9ab6b109e", "undone_at_action_id": null}
 9a7e5bf9-7024-45ff-b914-babaab9be4ea | 2025-05-07 21:36:31.172234+00 | INSERT         | public      | undo_steps             | 3a8f3905-7b59-4843-bb4c-d5213e142761                                      |              | {"new_data": {"name": "Root Project 2", "status": "todo", "due_date": null, "priority": "low", "is_active": true, "order_key": "1001", "created_at": "2025-05-07T21:36:31.172Z", "updated_at": "2025-05-07T21:36:31.172Z", "description": null, "work_item_id": "549af7fb-5125-4df4-bb8d-17a9ab6b109e", "parent_work_item_id": null}, "old_data": {"name": "Root Project 2", "status": "todo", "due_date": null, "priority": "low", "is_active": false, "order_key": "1001", "created_at": "2025-05-07T21:36:31.172Z", "updated_at": "2025-05-07T21:36:31.172Z", "description": null, "work_item_id": "549af7fb-5125-4df4-bb8d-17a9ab6b109e", "parent_work_item_id": null}, "action_id": "d2527e2f-7cf9-4620-8eb6-953f836dff48", "record_id": "549af7fb-5125-4df4-bb8d-17a9ab6b109e", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "3a8f3905-7b59-4843-bb4c-d5213e142761"}
 4c890435-4fed-4890-b44c-52649d50849d | 2025-05-07 21:36:31.1761+00   | INSERT         | public      | work_items             | 92f3e031-b926-4728-a5a2-b2a2dd7eb113                                      |              | {"name": "Child Task 1 (In Progress)", "tags": null, "status": "in-progress", "due_date": null, "priority": "medium", "is_active": true, "order_key": 1000, "created_at": "2025-05-07T21:36:31.175+00:00", "updated_at": "2025-05-07T21:36:31.175+00:00", "description": null, "work_item_id": "92f3e031-b926-4728-a5a2-b2a2dd7eb113", "parent_work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245"}
 17364836-7e0e-4dda-bdb7-d5f6de9f9f0d | 2025-05-07 21:36:31.1761+00   | INSERT         | public      | action_history         | 8a8b902f-614e-4ab5-9f3e-8ff4de75e54e                                      |              | {"action_id": "8a8b902f-614e-4ab5-9f3e-8ff4de75e54e", "is_undone": false, "timestamp": "2025-05-07T21:36:31.193+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Child Task 1 (In Progress)\"", "work_item_id": "92f3e031-b926-4728-a5a2-b2a2dd7eb113", "undone_at_action_id": null}
 c423130f-1399-4c1f-80ae-63d7d970df7a | 2025-05-07 21:36:31.1761+00   | INSERT         | public      | undo_steps             | 7f044dec-1270-49f1-a8ea-4b2ba90801f0                                      |              | {"new_data": {"name": "Child Task 1 (In Progress)", "status": "in-progress", "due_date": null, "priority": "medium", "is_active": true, "order_key": "1000", "created_at": "2025-05-07T21:36:31.175Z", "updated_at": "2025-05-07T21:36:31.175Z", "description": null, "work_item_id": "92f3e031-b926-4728-a5a2-b2a2dd7eb113", "parent_work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245"}, "old_data": {"name": "Child Task 1 (In Progress)", "status": "in-progress", "due_date": null, "priority": "medium", "is_active": false, "order_key": "1000", "created_at": "2025-05-07T21:36:31.175Z", "updated_at": "2025-05-07T21:36:31.175Z", "description": null, "work_item_id": "92f3e031-b926-4728-a5a2-b2a2dd7eb113", "parent_work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245"}, "action_id": "8a8b902f-614e-4ab5-9f3e-8ff4de75e54e", "record_id": "92f3e031-b926-4728-a5a2-b2a2dd7eb113", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "7f044dec-1270-49f1-a8ea-4b2ba90801f0"}
 4803fa57-243b-4503-8794-309b30935df7 | 2025-05-07 21:36:31.196098+00 | INSERT         | public      | work_items             | 24c99b04-2303-4927-8a29-13eb174bce65                                      |              | {"name": "Child Task 2 (Todo)", "tags": null, "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": 1001, "created_at": "2025-05-07T21:36:31.196+00:00", "updated_at": "2025-05-07T21:36:31.196+00:00", "description": null, "work_item_id": "24c99b04-2303-4927-8a29-13eb174bce65", "parent_work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245"}
 751aabe8-37ae-4c0a-b301-32b1717fd367 | 2025-05-07 21:36:31.196098+00 | INSERT         | public      | action_history         | eb0a949b-475a-4f7f-b06a-1823069eb4dc                                      |              | {"action_id": "eb0a949b-475a-4f7f-b06a-1823069eb4dc", "is_undone": false, "timestamp": "2025-05-07T21:36:31.198+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Child Task 2 (Todo)\"", "work_item_id": "24c99b04-2303-4927-8a29-13eb174bce65", "undone_at_action_id": null}
 32e4da3b-38f1-4ec9-b7e9-c3d637c0c988 | 2025-05-07 21:36:31.196098+00 | INSERT         | public      | undo_steps             | f15958eb-b7b5-4126-b2a7-4d97b6d0baad                                      |              | {"new_data": {"name": "Child Task 2 (Todo)", "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": "1001", "created_at": "2025-05-07T21:36:31.196Z", "updated_at": "2025-05-07T21:36:31.196Z", "description": null, "work_item_id": "24c99b04-2303-4927-8a29-13eb174bce65", "parent_work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245"}, "old_data": {"name": "Child Task 2 (Todo)", "status": "todo", "due_date": null, "priority": "high", "is_active": false, "order_key": "1001", "created_at": "2025-05-07T21:36:31.196Z", "updated_at": "2025-05-07T21:36:31.196Z", "description": null, "work_item_id": "24c99b04-2303-4927-8a29-13eb174bce65", "parent_work_item_id": "3c65b590-cb73-497e-8b02-a4bedf2dc245"}, "action_id": "eb0a949b-475a-4f7f-b06a-1823069eb4dc", "record_id": "24c99b04-2303-4927-8a29-13eb174bce65", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "f15958eb-b7b5-4126-b2a7-4d97b6d0baad"}
 9d59235a-1acd-4715-a6e4-94f3babef704 | 2025-05-07 21:36:31.201037+00 | INSERT         | public      | work_items             | c570d149-064d-4e78-b2af-0298fbaf7c4d                                      |              | {"name": "Dependency Target", "tags": null, "status": "todo", "due_date": null, "priority": "medium", "is_active": true, "order_key": 1002, "created_at": "2025-05-07T21:36:31.2+00:00", "updated_at": "2025-05-07T21:36:31.2+00:00", "description": null, "work_item_id": "c570d149-064d-4e78-b2af-0298fbaf7c4d", "parent_work_item_id": null}
 5a8638b4-691a-4402-b5ed-a1a4bdec6d71 | 2025-05-07 21:36:31.201037+00 | INSERT         | public      | action_history         | d6a3c100-c957-4b62-82cf-7bad4d348ad9                                      |              | {"action_id": "d6a3c100-c957-4b62-82cf-7bad4d348ad9", "is_undone": false, "timestamp": "2025-05-07T21:36:31.201+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Dependency Target\"", "work_item_id": "c570d149-064d-4e78-b2af-0298fbaf7c4d", "undone_at_action_id": null}
 a5138c46-156e-4087-9085-87a82e50e54e | 2025-05-07 21:36:31.201037+00 | INSERT         | public      | undo_steps             | a5dab093-8b0f-4503-b144-9ef89ba6a3a9                                      |              | {"new_data": {"name": "Dependency Target", "status": "todo", "due_date": null, "priority": "medium", "is_active": true, "order_key": "1002", "created_at": "2025-05-07T21:36:31.200Z", "updated_at": "2025-05-07T21:36:31.200Z", "description": null, "work_item_id": "c570d149-064d-4e78-b2af-0298fbaf7c4d", "parent_work_item_id": null}, "old_data": {"name": "Dependency Target", "status": "todo", "due_date": null, "priority": "medium", "is_active": false, "order_key": "1002", "created_at": "2025-05-07T21:36:31.200Z", "updated_at": "2025-05-07T21:36:31.200Z", "description": null, "work_item_id": "c570d149-064d-4e78-b2af-0298fbaf7c4d", "parent_work_item_id": null}, "action_id": "d6a3c100-c957-4b62-82cf-7bad4d348ad9", "record_id": "c570d149-064d-4e78-b2af-0298fbaf7c4d", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "a5dab093-8b0f-4503-b144-9ef89ba6a3a9"}
 4cc19103-70c8-487b-b66a-a0252e206d57 | 2025-05-07 21:36:31.204604+00 | INSERT         | public      | work_item_dependencies | 92f3e031-b926-4728-a5a2-b2a2dd7eb113:c570d149-064d-4e78-b2af-0298fbaf7c4d |              | {"is_active": true, "work_item_id": "92f3e031-b926-4728-a5a2-b2a2dd7eb113", "dependency_type": "finish-to-start", "depends_on_work_item_id": "c570d149-064d-4e78-b2af-0298fbaf7c4d"}
 19a3a5ca-9863-4131-9a49-c5c883c48ff6 | 2025-05-07 21:36:31.24525+00  | INSERT         | public      | work_items             | 6fce2b65-43ce-4a71-bf3f-c8c28014455f                                      |              | {"name": "Root Project 1", "tags": null, "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": 1000, "created_at": "2025-05-07T21:36:31.245+00:00", "updated_at": "2025-05-07T21:36:31.245+00:00", "description": null, "work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f", "parent_work_item_id": null}
 6eaf50ca-820f-4917-94a0-d56e337d22b1 | 2025-05-07 21:36:31.24525+00  | INSERT         | public      | action_history         | c80d8f22-1a47-4923-9fb1-0fc5ca9ac9ae                                      |              | {"action_id": "c80d8f22-1a47-4923-9fb1-0fc5ca9ac9ae", "is_undone": false, "timestamp": "2025-05-07T21:36:31.246+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Root Project 1\"", "work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f", "undone_at_action_id": null}
 e0945dd1-04a4-4d3a-be77-d2d80afcb92b | 2025-05-07 21:36:31.24525+00  | INSERT         | public      | undo_steps             | d731c15d-a86e-49e1-8e2d-d29ea3e90d16                                      |              | {"new_data": {"name": "Root Project 1", "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": "1000", "created_at": "2025-05-07T21:36:31.245Z", "updated_at": "2025-05-07T21:36:31.245Z", "description": null, "work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f", "parent_work_item_id": null}, "old_data": {"name": "Root Project 1", "status": "todo", "due_date": null, "priority": "high", "is_active": false, "order_key": "1000", "created_at": "2025-05-07T21:36:31.245Z", "updated_at": "2025-05-07T21:36:31.245Z", "description": null, "work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f", "parent_work_item_id": null}, "action_id": "c80d8f22-1a47-4923-9fb1-0fc5ca9ac9ae", "record_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "d731c15d-a86e-49e1-8e2d-d29ea3e90d16"}
 55cc7bdf-041f-4951-9a9e-4cda77191bad | 2025-05-07 21:36:31.248799+00 | INSERT         | public      | work_items             | e6d12cdc-8ccf-420c-9867-78cf771391ca                                      |              | {"name": "Root Project 2", "tags": null, "status": "todo", "due_date": null, "priority": "low", "is_active": true, "order_key": 1001, "created_at": "2025-05-07T21:36:31.248+00:00", "updated_at": "2025-05-07T21:36:31.248+00:00", "description": null, "work_item_id": "e6d12cdc-8ccf-420c-9867-78cf771391ca", "parent_work_item_id": null}
 8609be8d-e743-420d-ba4a-3c4b91cde90a | 2025-05-07 21:36:31.248799+00 | INSERT         | public      | action_history         | bb5d6182-b1b3-4f9d-a289-493209e6558b                                      |              | {"action_id": "bb5d6182-b1b3-4f9d-a289-493209e6558b", "is_undone": false, "timestamp": "2025-05-07T21:36:31.249+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Root Project 2\"", "work_item_id": "e6d12cdc-8ccf-420c-9867-78cf771391ca", "undone_at_action_id": null}
 dac0a18e-3bb3-4288-b3a7-9933e0ca943d | 2025-05-07 21:36:31.248799+00 | INSERT         | public      | undo_steps             | f1068193-db68-4031-8874-60ca820dafc3                                      |              | {"new_data": {"name": "Root Project 2", "status": "todo", "due_date": null, "priority": "low", "is_active": true, "order_key": "1001", "created_at": "2025-05-07T21:36:31.248Z", "updated_at": "2025-05-07T21:36:31.248Z", "description": null, "work_item_id": "e6d12cdc-8ccf-420c-9867-78cf771391ca", "parent_work_item_id": null}, "old_data": {"name": "Root Project 2", "status": "todo", "due_date": null, "priority": "low", "is_active": false, "order_key": "1001", "created_at": "2025-05-07T21:36:31.248Z", "updated_at": "2025-05-07T21:36:31.248Z", "description": null, "work_item_id": "e6d12cdc-8ccf-420c-9867-78cf771391ca", "parent_work_item_id": null}, "action_id": "bb5d6182-b1b3-4f9d-a289-493209e6558b", "record_id": "e6d12cdc-8ccf-420c-9867-78cf771391ca", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "f1068193-db68-4031-8874-60ca820dafc3"}
 53bf97fa-87c9-402b-89b8-ab361967f960 | 2025-05-07 21:36:31.251179+00 | INSERT         | public      | work_items             | 46250dba-f989-4ba7-a312-190a41c26afb                                      |              | {"name": "Child Task 1 (In Progress)", "tags": null, "status": "in-progress", "due_date": null, "priority": "medium", "is_active": true, "order_key": 1000, "created_at": "2025-05-07T21:36:31.251+00:00", "updated_at": "2025-05-07T21:36:31.251+00:00", "description": null, "work_item_id": "46250dba-f989-4ba7-a312-190a41c26afb", "parent_work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f"}
 b2aa9890-2254-4601-9486-219c9594a2a0 | 2025-05-07 21:36:31.251179+00 | INSERT         | public      | action_history         | 546a30cf-ba61-48a5-9590-5b9b9e560429                                      |              | {"action_id": "546a30cf-ba61-48a5-9590-5b9b9e560429", "is_undone": false, "timestamp": "2025-05-07T21:36:31.252+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Child Task 1 (In Progress)\"", "work_item_id": "46250dba-f989-4ba7-a312-190a41c26afb", "undone_at_action_id": null}
 72ea3517-bb44-4b92-8116-0e446d5af10c | 2025-05-07 21:36:31.251179+00 | INSERT         | public      | undo_steps             | 43cb551e-5e95-4a0c-8761-7923e5f5d7c2                                      |              | {"new_data": {"name": "Child Task 1 (In Progress)", "status": "in-progress", "due_date": null, "priority": "medium", "is_active": true, "order_key": "1000", "created_at": "2025-05-07T21:36:31.251Z", "updated_at": "2025-05-07T21:36:31.251Z", "description": null, "work_item_id": "46250dba-f989-4ba7-a312-190a41c26afb", "parent_work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f"}, "old_data": {"name": "Child Task 1 (In Progress)", "status": "in-progress", "due_date": null, "priority": "medium", "is_active": false, "order_key": "1000", "created_at": "2025-05-07T21:36:31.251Z", "updated_at": "2025-05-07T21:36:31.251Z", "description": null, "work_item_id": "46250dba-f989-4ba7-a312-190a41c26afb", "parent_work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f"}, "action_id": "546a30cf-ba61-48a5-9590-5b9b9e560429", "record_id": "46250dba-f989-4ba7-a312-190a41c26afb", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "43cb551e-5e95-4a0c-8761-7923e5f5d7c2"}
 3cb2508b-4b35-42e7-a339-2465a56d4ce2 | 2025-05-07 21:36:31.254214+00 | INSERT         | public      | work_items             | d3f5ed39-b8e1-43fe-9c1c-842a30ac9960                                      |              | {"name": "Child Task 2 (Todo)", "tags": null, "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": 1001, "created_at": "2025-05-07T21:36:31.254+00:00", "updated_at": "2025-05-07T21:36:31.254+00:00", "description": null, "work_item_id": "d3f5ed39-b8e1-43fe-9c1c-842a30ac9960", "parent_work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f"}
 1f3d304c-9f94-4642-969a-21bbdac8c3c7 | 2025-05-07 21:36:31.254214+00 | INSERT         | public      | action_history         | 15224c00-4125-464d-a392-a09c30db94fc                                      |              | {"action_id": "15224c00-4125-464d-a392-a09c30db94fc", "is_undone": false, "timestamp": "2025-05-07T21:36:31.255+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Child Task 2 (Todo)\"", "work_item_id": "d3f5ed39-b8e1-43fe-9c1c-842a30ac9960", "undone_at_action_id": null}
 63cdd422-2f2c-49c8-a3d6-2e7cec521371 | 2025-05-07 21:36:31.254214+00 | INSERT         | public      | undo_steps             | 44235e40-cd52-4597-8112-712e0c325058                                      |              | {"new_data": {"name": "Child Task 2 (Todo)", "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": "1001", "created_at": "2025-05-07T21:36:31.254Z", "updated_at": "2025-05-07T21:36:31.254Z", "description": null, "work_item_id": "d3f5ed39-b8e1-43fe-9c1c-842a30ac9960", "parent_work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f"}, "old_data": {"name": "Child Task 2 (Todo)", "status": "todo", "due_date": null, "priority": "high", "is_active": false, "order_key": "1001", "created_at": "2025-05-07T21:36:31.254Z", "updated_at": "2025-05-07T21:36:31.254Z", "description": null, "work_item_id": "d3f5ed39-b8e1-43fe-9c1c-842a30ac9960", "parent_work_item_id": "6fce2b65-43ce-4a71-bf3f-c8c28014455f"}, "action_id": "15224c00-4125-464d-a392-a09c30db94fc", "record_id": "d3f5ed39-b8e1-43fe-9c1c-842a30ac9960", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "44235e40-cd52-4597-8112-712e0c325058"}
 3b37d0aa-bc7b-4f37-871d-3f8c02c6b5b0 | 2025-05-07 21:36:31.27856+00  | INSERT         | public      | work_items             | 1c871fe0-cb8d-4a95-bf47-b470c2ea9f16                                      |              | {"name": "Root Project 1", "tags": null, "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": 1000, "created_at": "2025-05-07T21:36:31.278+00:00", "updated_at": "2025-05-07T21:36:31.278+00:00", "description": null, "work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16", "parent_work_item_id": null}
 9e32aea0-feda-44c2-b23c-0f55a197db3a | 2025-05-07 21:36:31.27856+00  | INSERT         | public      | action_history         | a87b6364-6a53-430d-8d6f-a2697fc4ebcc                                      |              | {"action_id": "a87b6364-6a53-430d-8d6f-a2697fc4ebcc", "is_undone": false, "timestamp": "2025-05-07T21:36:31.28+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Root Project 1\"", "work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16", "undone_at_action_id": null}
 77c9b026-292f-4d56-9c69-495a6f2b966c | 2025-05-07 21:36:31.27856+00  | INSERT         | public      | undo_steps             | 96079e1e-d151-42ea-8648-78792a0ccbcd                                      |              | {"new_data": {"name": "Root Project 1", "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": "1000", "created_at": "2025-05-07T21:36:31.278Z", "updated_at": "2025-05-07T21:36:31.278Z", "description": null, "work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16", "parent_work_item_id": null}, "old_data": {"name": "Root Project 1", "status": "todo", "due_date": null, "priority": "high", "is_active": false, "order_key": "1000", "created_at": "2025-05-07T21:36:31.278Z", "updated_at": "2025-05-07T21:36:31.278Z", "description": null, "work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16", "parent_work_item_id": null}, "action_id": "a87b6364-6a53-430d-8d6f-a2697fc4ebcc", "record_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "96079e1e-d151-42ea-8648-78792a0ccbcd"}
 9d513add-0835-4b99-8f5a-b77a7a3c4d35 | 2025-05-07 21:36:31.284337+00 | INSERT         | public      | work_items             | 26d30934-31e9-4ce6-a8eb-68c0bc1e1e48                                      |              | {"name": "Root Project 2", "tags": null, "status": "todo", "due_date": null, "priority": "low", "is_active": true, "order_key": 1001, "created_at": "2025-05-07T21:36:31.284+00:00", "updated_at": "2025-05-07T21:36:31.284+00:00", "description": null, "work_item_id": "26d30934-31e9-4ce6-a8eb-68c0bc1e1e48", "parent_work_item_id": null}
 2bc4f228-b5d7-4425-b4de-c9f51bc54a77 | 2025-05-07 21:36:31.284337+00 | INSERT         | public      | action_history         | f04a97cf-01f6-4da5-93df-2372f0e59aef                                      |              | {"action_id": "f04a97cf-01f6-4da5-93df-2372f0e59aef", "is_undone": false, "timestamp": "2025-05-07T21:36:31.285+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Root Project 2\"", "work_item_id": "26d30934-31e9-4ce6-a8eb-68c0bc1e1e48", "undone_at_action_id": null}
 948f11fa-aa5e-419e-a666-73256bdefae1 | 2025-05-07 21:36:31.284337+00 | INSERT         | public      | undo_steps             | 329d7cac-3e20-4727-b736-2b235f16297c                                      |              | {"new_data": {"name": "Root Project 2", "status": "todo", "due_date": null, "priority": "low", "is_active": true, "order_key": "1001", "created_at": "2025-05-07T21:36:31.284Z", "updated_at": "2025-05-07T21:36:31.284Z", "description": null, "work_item_id": "26d30934-31e9-4ce6-a8eb-68c0bc1e1e48", "parent_work_item_id": null}, "old_data": {"name": "Root Project 2", "status": "todo", "due_date": null, "priority": "low", "is_active": false, "order_key": "1001", "created_at": "2025-05-07T21:36:31.284Z", "updated_at": "2025-05-07T21:36:31.284Z", "description": null, "work_item_id": "26d30934-31e9-4ce6-a8eb-68c0bc1e1e48", "parent_work_item_id": null}, "action_id": "f04a97cf-01f6-4da5-93df-2372f0e59aef", "record_id": "26d30934-31e9-4ce6-a8eb-68c0bc1e1e48", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "329d7cac-3e20-4727-b736-2b235f16297c"}
 4d0bc838-99b7-4fda-b2ce-fee90bad16af | 2025-05-07 21:36:31.287662+00 | INSERT         | public      | work_items             | 4be42666-9ddb-464d-8d21-0a95c5b0c9fe                                      |              | {"name": "Child Task 1 (In Progress)", "tags": null, "status": "in-progress", "due_date": null, "priority": "medium", "is_active": true, "order_key": 1000, "created_at": "2025-05-07T21:36:31.287+00:00", "updated_at": "2025-05-07T21:36:31.287+00:00", "description": null, "work_item_id": "4be42666-9ddb-464d-8d21-0a95c5b0c9fe", "parent_work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16"}
 6d61d888-e3b2-4710-932a-68e91157a05d | 2025-05-07 21:36:31.287662+00 | INSERT         | public      | action_history         | 71db93e6-7b32-4734-aff7-0de2a30ad15c                                      |              | {"action_id": "71db93e6-7b32-4734-aff7-0de2a30ad15c", "is_undone": false, "timestamp": "2025-05-07T21:36:31.289+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Child Task 1 (In Progress)\"", "work_item_id": "4be42666-9ddb-464d-8d21-0a95c5b0c9fe", "undone_at_action_id": null}
 2f6ed634-b7a8-4d7c-b409-c53ef212f60b | 2025-05-07 21:36:31.287662+00 | INSERT         | public      | undo_steps             | ea4d64a1-62eb-45a2-966b-a675522635fa                                      |              | {"new_data": {"name": "Child Task 1 (In Progress)", "status": "in-progress", "due_date": null, "priority": "medium", "is_active": true, "order_key": "1000", "created_at": "2025-05-07T21:36:31.287Z", "updated_at": "2025-05-07T21:36:31.287Z", "description": null, "work_item_id": "4be42666-9ddb-464d-8d21-0a95c5b0c9fe", "parent_work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16"}, "old_data": {"name": "Child Task 1 (In Progress)", "status": "in-progress", "due_date": null, "priority": "medium", "is_active": false, "order_key": "1000", "created_at": "2025-05-07T21:36:31.287Z", "updated_at": "2025-05-07T21:36:31.287Z", "description": null, "work_item_id": "4be42666-9ddb-464d-8d21-0a95c5b0c9fe", "parent_work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16"}, "action_id": "71db93e6-7b32-4734-aff7-0de2a30ad15c", "record_id": "4be42666-9ddb-464d-8d21-0a95c5b0c9fe", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "ea4d64a1-62eb-45a2-966b-a675522635fa"}
 1d11bd6f-be4c-4cd6-9771-d5e28f23673b | 2025-05-07 21:36:31.291747+00 | INSERT         | public      | work_items             | 6684799e-b5f0-4772-9ad1-097efbf978ce                                      |              | {"name": "Child Task 2 (Todo)", "tags": null, "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": 1001, "created_at": "2025-05-07T21:36:31.291+00:00", "updated_at": "2025-05-07T21:36:31.291+00:00", "description": null, "work_item_id": "6684799e-b5f0-4772-9ad1-097efbf978ce", "parent_work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16"}
 bb0a6629-d805-4df0-a59b-1103a47db9b8 | 2025-05-07 21:36:31.291747+00 | INSERT         | public      | action_history         | 729c979a-3fde-4e9c-a962-cd4ce5a26636                                      |              | {"action_id": "729c979a-3fde-4e9c-a962-cd4ce5a26636", "is_undone": false, "timestamp": "2025-05-07T21:36:31.293+00:00", "action_type": "ADD_WORK_ITEM", "description": "Added work item \"Child Task 2 (Todo)\"", "work_item_id": "6684799e-b5f0-4772-9ad1-097efbf978ce", "undone_at_action_id": null}
 776dc9b3-dafa-4c90-8938-25a5676f7d9e | 2025-05-07 21:36:31.291747+00 | INSERT         | public      | undo_steps             | 7e3709f3-894c-425b-9989-a82e584ccdb9                                      |              | {"new_data": {"name": "Child Task 2 (Todo)", "status": "todo", "due_date": null, "priority": "high", "is_active": true, "order_key": "1001", "created_at": "2025-05-07T21:36:31.291Z", "updated_at": "2025-05-07T21:36:31.291Z", "description": null, "work_item_id": "6684799e-b5f0-4772-9ad1-097efbf978ce", "parent_work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16"}, "old_data": {"name": "Child Task 2 (Todo)", "status": "todo", "due_date": null, "priority": "high", "is_active": false, "order_key": "1001", "created_at": "2025-05-07T21:36:31.291Z", "updated_at": "2025-05-07T21:36:31.291Z", "description": null, "work_item_id": "6684799e-b5f0-4772-9ad1-097efbf978ce", "parent_work_item_id": "1c871fe0-cb8d-4a95-bf47-b470c2ea9f16"}, "action_id": "729c979a-3fde-4e9c-a962-cd4ce5a26636", "record_id": "6684799e-b5f0-4772-9ad1-097efbf978ce", "step_type": "UPDATE", "step_order": 1, "table_name": "work_items", "undo_step_id": "7e3709f3-894c-425b-9989-a82e584ccdb9"}
(40 rows)

